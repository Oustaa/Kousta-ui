"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6862],{3023(n,e,o){o.d(e,{R:()=>t,x:()=>i});var l=o(3696);const c={},s=l.createContext(c);function t(n){const e=l.useContext(s);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:t(n.components),l.createElement(s.Provider,{value:e},n.children)}},7447(n,e,o){o.d(e,{A:()=>c});o(3696);var l=o(2540);function c({children:n,color:e="warning"}){return(0,l.jsx)("span",{className:`badge badge-${e}`,children:n})}},8746(n,e,o){o.r(e),o.d(e,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"hooks/useScrollLock","title":"useScrollLock","description":"A utility hook that prevents body scrolling when activated, commonly used for modals, overlays, and drawers. It automatically handles scrollbar compensation to prevent layout shift when the scrollbar is hidden.","source":"@site/docs/hooks/useScrollLock.md","sourceDirName":"hooks","slug":"/hooks/useScrollLock","permalink":"/docs/hooks/useScrollLock","draft":false,"unlisted":false,"editUrl":"https://github.com/Oustaa/Kousta-ui/blob/main/docs/docs/hooks/useScrollLock.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"useDebounceCallback","permalink":"/docs/hooks/useDebounceCallback"},"next":{"title":"Styles & Customization","permalink":"/docs/styles/styles-and-customization"}}');var c=o(2540),s=o(3023),t=o(7447);const i={sidebar_position:4},r="useScrollLock",a={},d=[{value:"When to use",id:"when-to-use",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Values",id:"return-values",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Examples",id:"examples",level:2},{value:"Modal with Scroll Lock",id:"modal-with-scroll-lock",level:3},{value:"Sidebar Navigation",id:"sidebar-navigation",level:3},{value:"Image Lightbox",id:"image-lightbox",level:3},{value:"Dropdown Menu with Scroll Lock",id:"dropdown-menu-with-scroll-lock",level:3},{value:"Loading Overlay",id:"loading-overlay",level:3},{value:"Confirmation Dialog",id:"confirmation-dialog",level:3},{value:"Advanced Patterns",id:"advanced-patterns",level:2},{value:"Multiple Scroll Locks",id:"multiple-scroll-locks",level:3},{value:"Scroll Lock with Escape Key",id:"scroll-lock-with-escape-key",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Browser Compatibility",id:"browser-compatibility",level:2},{value:"TypeScript Support",id:"typescript-support",level:2},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"Don&#39;t Forget to Unlock",id:"dont-forget-to-unlock",level:3},{value:"Don&#39;t Lock Multiple Times Without Unlocking",id:"dont-lock-multiple-times-without-unlocking",level:3},{value:"CSS Considerations",id:"css-considerations",level:2},{value:"Migration from Manual Scroll Lock",id:"migration-from-manual-scroll-lock",level:2},{value:"Before Manual Implementation",id:"before-manual-implementation",level:3},{value:"After useScrollLock",id:"after-usescrolllock",level:3},{value:"Types (reference)",id:"types-reference",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"usescrolllock",children:"useScrollLock"})}),"\n",(0,c.jsx)(e.p,{children:"A utility hook that prevents body scrolling when activated, commonly used for modals, overlays, and drawers. It automatically handles scrollbar compensation to prevent layout shift when the scrollbar is hidden."}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"when-to-use",children:"When to use"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Modal dialogs"}),": Prevent background scrolling when modal is open"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Overlay menus"}),": Stop scrolling when dropdown or context menu is active"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Sidebars"}),": Lock background when sidebar is open"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Image lightboxes"}),": Prevent scrolling when viewing full-screen images"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Confirmation dialogs"}),": Stop background interaction during confirmations"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Loading overlays"}),": Prevent interaction during loading states"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Fullscreen components"}),": Lock scroll for immersive experiences"]}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"parameters",children:"Parameters"}),"\n",(0,c.jsx)(e.p,{children:"This hook doesn't accept any parameters."}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"return-values",children:"Return Values"}),"\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"Property"}),(0,c.jsx)(e.th,{children:"Type"}),(0,c.jsx)(e.th,{children:"Description"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"lockScroll"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"() => void"})}),(0,c.jsx)(e.td,{children:"Function to lock body scrolling"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"unlockScroll"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"() => void"})}),(0,c.jsx)(e.td,{children:"Function to unlock body scrolling"})]})]})]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(t.A,{color:"green",children:"Note"})," ",(0,c.jsx)(e.code,{children:"unlockScroll()"})," resets both ",(0,c.jsx)(e.code,{children:"overflow"})," and ",(0,c.jsx)(e.code,{children:"paddingRight"})," so the page layout returns to normal after unlocking."]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'import { useScrollLock } from "@kousta-ui/hooks";\n\nfunction BasicExample() {\n  const { lockScroll, unlockScroll } = useScrollLock();\n  const [isLocked, setIsLocked] = useState(false);\n\n  const handleLock = () => {\n    lockScroll();\n    setIsLocked(true);\n  };\n\n  const handleUnlock = () => {\n    unlockScroll();\n    setIsLocked(false);\n  };\n\n  return (\n    <div>\n      <button onClick={handleLock}>Lock Scroll</button>\n      <button onClick={handleUnlock}>Unlock Scroll</button>\n      <p>Scroll is {isLocked ? "locked" : "unlocked"}</p>\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,c.jsx)(e.h3,{id:"modal-with-scroll-lock",children:"Modal with Scroll Lock"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function ModalExample() {\n  const { opened, open, close } = useDisclosure(false);\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  const handleOpen = () => {\n    lockScroll();\n    open();\n  };\n\n  const handleClose = () => {\n    unlockScroll();\n    close();\n  };\n\n  // Ensure scroll is unlocked when component unmounts\n  useEffect(() => {\n    return () => {\n      unlockScroll();\n    };\n  }, [unlockScroll]);\n\n  return (\n    <div>\n      <button onClick={handleOpen}>Open Modal</button>\n      \n      {opened && (\n        <div className="modal-overlay">\n          <div className="modal">\n            <h2>Modal with Scroll Lock</h2>\n            <p>The background scroll is locked while this modal is open.</p>\n            <p>Try scrolling - you won\'t be able to scroll the background!</p>\n            <button onClick={handleClose}>Close Modal</button>\n          </div>\n        </div>\n      )}\n      \n      <div style={{ height: "200vh", padding: "20px" }}>\n        <h1>Scrollable Content</h1>\n        {Array.from({ length: 50 }, (_, i) => (\n          <p key={i}>Scrollable content paragraph {i + 1}</p>\n        ))}\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"sidebar-navigation",children:"Sidebar Navigation"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function SidebarExample() {\n  const { opened, open, close, toggle } = useDisclosure();\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  useEffect(() => {\n    if (opened) {\n      lockScroll();\n    } else {\n      unlockScroll();\n    }\n  }, [opened, lockScroll, unlockScroll]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return unlockScroll;\n  }, [unlockScroll]);\n\n  return (\n    <div className={`app ${opened ? "sidebar-open" : ""}`}>\n      <button className="menu-toggle" onClick={toggle}>\n        \u2630 Menu\n      </button>\n      \n      <aside className={`sidebar ${opened ? "open" : ""}`}>\n        <div className="sidebar-header">\n          <h3>Navigation</h3>\n          <button onClick={close}>\xd7</button>\n        </div>\n        \n        <nav className="sidebar-nav">\n          <a href="#home">Home</a>\n          <a href="#about">About</a>\n          <a href="#services">Services</a>\n          <a href="#portfolio">Portfolio</a>\n          <a href="#contact">Contact</a>\n        </nav>\n      </aside>\n      \n      <main className="main-content">\n        <h1>Main Content Area</h1>\n        <p>Click the menu button to open the sidebar. The background scroll will be locked.</p>\n        \n        {Array.from({ length: 30 }, (_, i) => (\n          <div key={i} style={{ margin: "20px 0", padding: "20px", background: "#f5f5f5" }}>\n            <h3>Content Section {i + 1}</h3>\n            <p>This is some scrollable content to demonstrate the scroll lock functionality.</p>\n          </div>\n        ))}\n      </main>\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"image-lightbox",children:"Image Lightbox"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function LightboxExample() {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  const openLightbox = (image) => {\n    setSelectedImage(image);\n    lockScroll();\n  };\n\n  const closeLightbox = () => {\n    setSelectedImage(null);\n    unlockScroll();\n  };\n\n  useEffect(() => {\n    return unlockScroll;\n  }, [unlockScroll]);\n\n  const images = [\n    { id: 1, src: "/image1.jpg", alt: "Image 1" },\n    { id: 2, src: "/image2.jpg", alt: "Image 2" },\n    { id: 3, src: "/image3.jpg", alt: "Image 3" },\n  ];\n\n  return (\n    <div>\n      <div className="image-gallery">\n        {images.map((image) => (\n          <img\n            key={image.id}\n            src={image.src}\n            alt={image.alt}\n            onClick={() => openLightbox(image)}\n            style={{ \n              width: "200px", \n              height: "200px", \n              objectFit: "cover", \n              cursor: "pointer",\n              margin: "10px"\n            }}\n          />\n        ))}\n      </div>\n\n      {selectedImage && (\n        <div className="lightbox-overlay" onClick={closeLightbox}>\n          <div className="lightbox-content">\n            <img\n              src={selectedImage.src}\n              alt={selectedImage.alt}\n              style={{ maxWidth: "90vw", maxHeight: "90vh" }}\n            />\n            <button className="close-button" onClick={closeLightbox}>\n              \xd7\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div style={{ height: "150vh", padding: "20px" }}>\n        <h2>Scroll down to see more content</h2>\n        {Array.from({ length: 20 }, (_, i) => (\n          <p key={i}>Scrollable content {i + 1}</p>\n        ))}\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"dropdown-menu-with-scroll-lock",children:"Dropdown Menu with Scroll Lock"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function DropdownExample() {\n  const { opened, open, close, toggle } = useDisclosure();\n  const { lockScroll, unlockScroll } = useScrollLock();\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (opened) {\n      lockScroll();\n    } else {\n      unlockScroll();\n    }\n  }, [opened, lockScroll, unlockScroll]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        close();\n      }\n    };\n\n    if (opened) {\n      document.addEventListener("mousedown", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener("mousedown", handleClickOutside);\n    };\n  }, [opened, close]);\n\n  useEffect(() => {\n    return unlockScroll;\n  }, [unlockScroll]);\n\n  return (\n    <div style={{ height: "200vh", padding: "20px" }}>\n      <h1>Scrollable Page with Dropdown</h1>\n      <p>Scroll down and click the dropdown button to see scroll lock in action.</p>\n      \n      <div ref={dropdownRef} className="dropdown-container">\n        <button onClick={toggle} className="dropdown-trigger">\n          Open Menu \u25bc\n        </button>\n        \n        {opened && (\n          <div className="dropdown-menu">\n            <div className="menu-item">Profile</div>\n            <div className="menu-item">Settings</div>\n            <div className="menu-item">Help</div>\n            <div className="menu-item">Logout</div>\n          </div>\n        )}\n      </div>\n\n      {Array.from({ length: 50 }, (_, i) => (\n        <div key={i} style={{ margin: "20px 0", padding: "20px", background: "#f9f9f9" }}>\n          <h3>Section {i + 1}</h3>\n          <p>This content demonstrates that scrolling is locked when the dropdown is open.</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"loading-overlay",children:"Loading Overlay"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function LoadingOverlayExample() {\n  const [loading, setLoading] = useState(false);\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  const simulateLoading = () => {\n    setLoading(true);\n    lockScroll();\n    \n    // Simulate a 3-second loading process\n    setTimeout(() => {\n      setLoading(false);\n      unlockScroll();\n    }, 3000);\n  };\n\n  useEffect(() => {\n    return () => {\n      unlockScroll();\n    };\n  }, [unlockScroll]);\n\n  return (\n    <div style={{ height: "200vh", padding: "20px" }}>\n      <button onClick={simulateLoading} disabled={loading}>\n        {loading ? "Loading..." : "Start Loading"}\n      </button>\n\n      {loading && (\n        <div className="loading-overlay">\n          <div className="loading-content">\n            <div className="spinner"></div>\n            <p>Please wait, processing your request...</p>\n          </div>\n        </div>\n      )}\n\n      <h1>Content Area</h1>\n      {Array.from({ length: 30 }, (_, i) => (\n        <div key={i} style={{ margin: "20px 0", padding: "20px", background: "#f0f0f0" }}>\n          <h3>Content Block {i + 1}</h3>\n          <p>This content is not scrollable during loading.</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"confirmation-dialog",children:"Confirmation Dialog"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function ConfirmationDialogExample() {\n  const [showConfirm, setShowConfirm] = useState(false);\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  const handleDeleteClick = () => {\n    lockScroll();\n    setShowConfirm(true);\n  };\n\n  const handleConfirm = () => {\n    console.log("Item deleted!");\n    setShowConfirm(false);\n    unlockScroll();\n  };\n\n  const handleCancel = () => {\n    setShowConfirm(false);\n    unlockScroll();\n  };\n\n  useEffect(() => {\n    return unlockScroll;\n  }, [unlockScroll]);\n\n  return (\n    <div style={{ height: "150vh", padding: "20px" }}>\n      <h1>Delete Item Example</h1>\n      <button onClick={handleDeleteClick} style={{ background: "#dc2626", color: "white" }}>\n        Delete Item\n      </button>\n\n      {showConfirm && (\n        <div className="confirmation-overlay">\n          <div className="confirmation-dialog">\n            <h2>Confirm Deletion</h2>\n            <p>Are you sure you want to delete this item? This action cannot be undone.</p>\n            \n            <div className="confirmation-actions">\n              <button onClick={handleCancel} className="cancel-btn">\n                Cancel\n              </button>\n              <button onClick={handleConfirm} className="confirm-btn">\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div style={{ marginTop: "40px" }}>\n        {Array.from({ length: 25 }, (_, i) => (\n          <div key={i} style={{ margin: "15px 0", padding: "15px", border: "1px solid #ddd" }}>\n            <h3>Item {i + 1}</h3>\n            <p>This is item {i + 1} that could be deleted.</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"advanced-patterns",children:"Advanced Patterns"}),"\n",(0,c.jsx)(e.h3,{id:"multiple-scroll-locks",children:"Multiple Scroll Locks"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"function MultipleScrollLocksExample() {\n  const modalDisclosure = useDisclosure();\n  const sidebarDisclosure = useDisclosure();\n  const { lockScroll, unlockScroll } = useScrollLock();\n  const lockCount = useRef(0);\n\n  const smartLock = () => {\n    lockCount.current++;\n    if (lockCount.current === 1) {\n      lockScroll();\n    }\n  };\n\n  const smartUnlock = () => {\n    lockCount.current--;\n    if (lockCount.current === 0) {\n      unlockScroll();\n    }\n  };\n\n  useEffect(() => {\n    if (modalDisclosure.opened) {\n      smartLock();\n    } else {\n      smartUnlock();\n    }\n  }, [modalDisclosure.opened]);\n\n  useEffect(() => {\n    if (sidebarDisclosure.opened) {\n      smartLock();\n    } else {\n      smartUnlock();\n    }\n  }, [sidebarDisclosure.opened]);\n\n  useEffect(() => {\n    return () => {\n      unlockScroll();\n    };\n  }, [unlockScroll]);\n\n  return (\n    <div>\n      <button onClick={modalDisclosure.open}>Open Modal</button>\n      <button onClick={sidebarDisclosure.open}>Open Sidebar</button>\n      \n      {/* Modal and Sidebar components */}\n    </div>\n  );\n}\n"})}),"\n",(0,c.jsx)(e.h3,{id:"scroll-lock-with-escape-key",children:"Scroll Lock with Escape Key"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function ScrollLockWithEscape() {\n  const { opened, open, close } = useDisclosure();\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  const handleOpen = () => {\n    lockScroll();\n    open();\n  };\n\n  const handleClose = () => {\n    unlockScroll();\n    close();\n  };\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === "Escape" && opened) {\n        handleClose();\n      }\n    };\n\n    if (opened) {\n      document.addEventListener("keydown", handleEscape);\n    }\n\n    return () => {\n      document.removeEventListener("keydown", handleEscape);\n    };\n  }, [opened, handleClose]);\n\n  useEffect(() => {\n    return unlockScroll;\n  }, [unlockScroll]);\n\n  return (\n    <div>\n      <button onClick={handleOpen}>Open Modal (Press ESC to close)</button>\n      \n      {opened && (\n        <div className="modal-overlay">\n          <div className="modal">\n            <h2>Press ESC to close</h2>\n            <p>This modal can be closed with the escape key.</p>\n            <button onClick={handleClose}>Close</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Scrollbar Compensation"}),": Automatically calculates and compensates for scrollbar width to prevent layout shift"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Efficient DOM Manipulation"}),": Direct style manipulation for optimal performance"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"Memory Safe"}),": Automatic cleanup prevents memory leaks"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.strong,{children:"No Dependencies"}),": Lightweight implementation with no external dependencies"]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(t.A,{color:"blue",children:"Performance Tip"})," The hook automatically handles scrollbar compensation, so your layout won't jump when scrolling is locked."]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"browser-compatibility",children:"Browser Compatibility"}),"\n",(0,c.jsx)(e.p,{children:"The hook works across all modern browsers:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u2705 Chrome/Edge (all versions)"}),"\n",(0,c.jsx)(e.li,{children:"\u2705 Firefox (all versions)"}),"\n",(0,c.jsx)(e.li,{children:"\u2705 Safari (all versions)"}),"\n",(0,c.jsx)(e.li,{children:"\u2705 Mobile browsers"}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(t.A,{color:"green",children:"Note"})," The scrollbar compensation uses ",(0,c.jsx)(e.code,{children:"window.innerWidth - document.body.offsetWidth"})," which is widely supported."]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"typescript-support",children:"TypeScript Support"}),"\n",(0,c.jsx)(e.p,{children:"Full TypeScript support with clear return types:"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"// Basic usage\nconst { lockScroll, unlockScroll } = useScrollLock();\n\n// With explicit typing\nconst scrollControls: {\n  lockScroll: () => void;\n  unlockScroll: () => void;\n} = useScrollLock();\n\n// In custom hook\nfunction useModalWithScrollLock() {\n  const { opened, open, close } = useDisclosure();\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  const openModal = () => {\n    lockScroll();\n    open();\n  };\n\n  const closeModal = () => {\n    unlockScroll();\n    close();\n  };\n\n  return {\n    opened,\n    openModal,\n    closeModal,\n  };\n}\n"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,c.jsx)(e.h3,{id:"dont-forget-to-unlock",children:"Don't Forget to Unlock"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"// \u274c Wrong - forgetting to unlock on unmount\nfunction BadModal() {\n  const { opened } = useDisclosure();\n  const { lockScroll } = useScrollLock();\n\n  useEffect(() => {\n    if (opened) {\n      lockScroll();\n      // Never unlocks!\n    }\n  }, [opened, lockScroll]);\n}\n\n// \u2705 Correct - always unlock on unmount\nfunction GoodModal() {\n  const { opened } = useDisclosure();\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  useEffect(() => {\n    if (opened) {\n      lockScroll();\n    } else {\n      unlockScroll();\n    }\n  }, [opened, lockScroll, unlockScroll]);\n\n  useEffect(() => {\n    return unlockScroll; // Cleanup on unmount\n  }, [unlockScroll]);\n}\n"})}),"\n",(0,c.jsx)(e.h3,{id:"dont-lock-multiple-times-without-unlocking",children:"Don't Lock Multiple Times Without Unlocking"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"// \u274c Wrong - multiple locks without proper unlocking\nfunction BadComponent() {\n  const { lockScroll, unlockScroll } = useScrollLock();\n  \n  const handleAction = () => {\n    lockScroll();\n    lockScroll(); // Double lock!\n  };\n}\n\n// \u2705 Correct - manage lock state properly\nfunction GoodComponent() {\n  const [isLocked, setIsLocked] = useState(false);\n  const { lockScroll, unlockScroll } = useScrollLock();\n  \n  const handleAction = () => {\n    if (!isLocked) {\n      lockScroll();\n      setIsLocked(true);\n    }\n  };\n}\n"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"css-considerations",children:"CSS Considerations"}),"\n",(0,c.jsx)(e.p,{children:"When using scroll lock, you might want to add some CSS to improve the user experience:"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-css",children:'/* Prevent visual jump when scroll is locked */\nbody {\n  overflow: hidden;\n  transition: padding-right 0.1s ease;\n}\n\n/* Optional: Add a subtle indicator that scroll is locked */\nbody.scroll-locked::before {\n  content: "";\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background: #3b82f6;\n  z-index: 9999;\n}\n'})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"migration-from-manual-scroll-lock",children:"Migration from Manual Scroll Lock"}),"\n",(0,c.jsx)(e.h3,{id:"before-manual-implementation",children:"Before Manual Implementation"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:'function OldModal() {\n  const [opened, setOpened] = useState(false);\n\n  const openModal = () => {\n    // Manual scroll lock\n    const scrollBarCompensation = window.innerWidth - document.body.offsetWidth;\n    document.body.style.overflow = "hidden";\n    document.body.style.paddingRight = `${scrollBarCompensation}px`;\n    setOpened(true);\n  };\n\n  const closeModal = () => {\n    // Manual scroll unlock\n    document.body.style.overflow = "";\n    document.body.style.paddingRight = "";\n    setOpened(false);\n  };\n\n  useEffect(() => {\n    return () => {\n      // Cleanup\n      document.body.style.overflow = "";\n      document.body.style.paddingRight = "";\n    };\n  }, []);\n\n  return (\n    <div>\n      <button onClick={openModal}>Open</button>\n      {opened && <div>Modal Content</div>}\n    </div>\n  );\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"after-usescrolllock",children:"After useScrollLock"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-tsx",children:"function NewModal() {\n  const { opened, open, close } = useDisclosure();\n  const { lockScroll, unlockScroll } = useScrollLock();\n\n  const openModal = () => {\n    lockScroll();\n    open();\n  };\n\n  const closeModal = () => {\n    unlockScroll();\n    close();\n  };\n\n  useEffect(() => {\n    return unlockScroll;\n  }, [unlockScroll]);\n\n  return (\n    <div>\n      <button onClick={openModal}>Open</button>\n      {opened && <div>Modal Content</div>}\n    </div>\n  );\n}\n"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"types-reference",children:"Types (reference)"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"export function useScrollLock(): {\n  lockScroll: () => void;\n  unlockScroll: () => void;\n};\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(u,{...n})}):u(n)}}}]);
"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1119],{1162(e,n,o){o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"hooks/useDisclosure","title":"useDisclosure","description":"A simple and elegant hook for managing boolean state with common actions like open, close, and toggle. Perfect for controlling modals, dropdowns, sidebars, and any UI component that needs show/hide functionality.","source":"@site/docs/hooks/useDisclosure.md","sourceDirName":"hooks","slug":"/hooks/useDisclosure","permalink":"/docs/hooks/useDisclosure","draft":false,"unlisted":false,"editUrl":"https://github.com/Oustaa/Kousta-ui/blob/main/docs/docs/hooks/useDisclosure.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/docs/hooks/overview"},"next":{"title":"usePagination","permalink":"/docs/hooks/usePagination"}}');var t=o(2540),l=o(3023),i=o(7447);const r={sidebar_position:1},a="useDisclosure",d={},c=[{value:"When to use",id:"when-to-use",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Values",id:"return-values",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Examples",id:"examples",level:2},{value:"Modal Management",id:"modal-management",level:3},{value:"Dropdown Menu",id:"dropdown-menu",level:3},{value:"Sidebar Navigation",id:"sidebar-navigation",level:3},{value:"Accordion Component",id:"accordion-component",level:3},{value:"Form Validation Messages",id:"form-validation-messages",level:3},{value:"Loading States",id:"loading-states",level:3},{value:"Advanced Patterns",id:"advanced-patterns",level:2},{value:"Multiple Disclosure States",id:"multiple-disclosure-states",level:3},{value:"Disclosure with Effects",id:"disclosure-with-effects",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"TypeScript Support",id:"typescript-support",level:2},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"Don&#39;t Mutate Return Values",id:"dont-mutate-return-values",level:3},{value:"Don&#39;t Use Outside Components",id:"dont-use-outside-components",level:3},{value:"Migration from Manual State",id:"migration-from-manual-state",level:2},{value:"Before Manual State",id:"before-manual-state",level:3},{value:"After useDisclosure",id:"after-usedisclosure",level:3},{value:"Types (reference)",id:"types-reference",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"usedisclosure",children:"useDisclosure"})}),"\n",(0,t.jsx)(n.p,{children:"A simple and elegant hook for managing boolean state with common actions like open, close, and toggle. Perfect for controlling modals, dropdowns, sidebars, and any UI component that needs show/hide functionality."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use",children:"When to use"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Modal management"}),": Control modal open/close state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dropdown menus"}),": Manage dropdown visibility"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sidebar navigation"}),": Toggle sidebar open/closed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Accordion panels"}),": Control expand/collapse state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tooltip visibility"}),": Show/hide tooltips on demand"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Form validation"}),": Show/hide error messages"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Loading states"}),": Toggle loading indicators"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"menuOpened"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Initial boolean state value"})]})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"return-values",children:"Return Values"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"opened"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Current boolean state"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"open"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"() => void"})}),(0,t.jsxs)(n.td,{children:["Function to set state to ",(0,t.jsx)(n.code,{children:"true"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"close"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"() => void"})}),(0,t.jsxs)(n.td,{children:["Function to set state to ",(0,t.jsx)(n.code,{children:"false"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"toggle"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"() => void"})}),(0,t.jsx)(n.td,{children:"Function to toggle current state"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useDisclosure } from "@kousta-ui/hooks";\n\nfunction BasicExample() {\n  const { opened, open, close, toggle } = useDisclosure(false);\n\n  return (\n    <div>\n      <button onClick={open}>Open</button>\n      <button onClick={close}>Close</button>\n      <button onClick={toggle}>Toggle</button>\n      \n      <p>Current state: {opened ? "opened" : "closed"}</p>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.h3,{id:"modal-management",children:"Modal Management"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function ModalExample() {\n  const { opened, open, close } = useDisclosure();\n\n  return (\n    <div>\n      <button onClick={open}>Open Modal</button>\n      \n      {opened && (\n        <div className="modal-overlay">\n          <div className="modal">\n            <h2>Modal Title</h2>\n            <p>This is a modal controlled by useDisclosure.</p>\n            <button onClick={close}>Close Modal</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dropdown-menu",children:"Dropdown Menu"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function DropdownExample() {\n  const { opened, open, close, toggle } = useDisclosure();\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        close();\n      }\n    };\n\n    if (opened) {\n      document.addEventListener("mousedown", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener("mousedown", handleClickOutside);\n    };\n  }, [opened, close]);\n\n  return (\n    <div ref={dropdownRef} className="dropdown">\n      <button onClick={toggle}>Menu</button>\n      \n      {opened && (\n        <div className="dropdown-menu">\n          <div className="menu-item">Profile</div>\n          <div className="menu-item">Settings</div>\n          <div className="menu-item">Logout</div>\n        </div>\n      )}\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"sidebar-navigation",children:"Sidebar Navigation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function SidebarExample() {\n  const { opened, open, close, toggle } = useDisclosure();\n\n  return (\n    <div className={`app ${opened ? "sidebar-open" : ""}`}>\n      <button className="menu-toggle" onClick={toggle}>\n        \u2630\n      </button>\n      \n      <aside className={`sidebar ${opened ? "open" : ""}`}>\n        <nav>\n          <a href="#home">Home</a>\n          <a href="#about">About</a>\n          <a href="#contact">Contact</a>\n        </nav>\n      </aside>\n      \n      <main className="content">\n        <h1>Main Content</h1>\n        <p>This is the main content area.</p>\n      </main>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"accordion-component",children:"Accordion Component"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function AccordionExample() {\n  const [panels, setPanels] = useState({\n    panel1: false,\n    panel2: false,\n    panel3: false,\n  });\n\n  const createDisclosure = (key: keyof typeof panels) => ({\n    opened: panels[key],\n    open: () => setPanels(prev => ({ ...prev, [key]: true })),\n    close: () => setPanels(prev => ({ ...prev, [key]: false })),\n    toggle: () => setPanels(prev => ({ ...prev, [key]: !prev[key] })),\n  });\n\n  const panel1 = createDisclosure("panel1");\n  const panel2 = createDisclosure("panel2");\n  const panel3 = createDisclosure("panel3");\n\n  return (\n    <div className="accordion">\n      <div className="accordion-item">\n        <button onClick={panel1.toggle}>\n          Panel 1 {panel1.opened ? "\u25bc" : "\u25b6"}\n        </button>\n        {panel1.opened && (\n          <div className="accordion-content">\n            Content for panel 1 goes here.\n          </div>\n        )}\n      </div>\n      \n      <div className="accordion-item">\n        <button onClick={panel2.toggle}>\n          Panel 2 {panel2.opened ? "\u25bc" : "\u25b6"}\n        </button>\n        {panel2.opened && (\n          <div className="accordion-content">\n            Content for panel 2 goes here.\n          </div>\n        )}\n      </div>\n      \n      <div className="accordion-item">\n        <button onClick={panel3.toggle}>\n          Panel 3 {panel3.opened ? "\u25bc" : "\u25b6"}\n        </button>\n        {panel3.opened && (\n          <div className="accordion-content">\n            Content for panel 3 goes here.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"form-validation-messages",children:"Form Validation Messages"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function FormExample() {\n  const [email, setEmail] = useState("");\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  \n  const emailError = useDisclosure(false);\n  const passwordError = useDisclosure(false);\n\n  const validateEmail = (value: string) => {\n    const isValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\n    if (!isValid) {\n      setErrors(prev => ({ ...prev, email: "Please enter a valid email" }));\n      emailError.open();\n    } else {\n      setErrors(prev => ({ ...prev, email: "" }));\n      emailError.close();\n    }\n  };\n\n  return (\n    <form>\n      <div>\n        <label>Email</label>\n        <input\n          type="email"\n          value={email}\n          onChange={(e) => {\n            setEmail(e.target.value);\n            validateEmail(e.target.value);\n          }}\n        />\n        {emailError.opened && (\n          <span className="error">{errors.email}</span>\n        )}\n      </div>\n      \n      <div>\n        <label>Password</label>\n        <input\n          type="password"\n          onChange={(e) => {\n            if (e.target.value.length < 8) {\n              passwordError.open();\n            } else {\n              passwordError.close();\n            }\n          }}\n        />\n        {passwordError.opened && (\n          <span className="error">Password must be at least 8 characters</span>\n        )}\n      </div>\n    </form>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loading-states",children:"Loading States"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function LoadingExample() {\n  const { opened: isLoading, open: startLoading, close: stopLoading } = useDisclosure();\n\n  const handleSubmit = async () => {\n    startLoading();\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      console.log("Form submitted successfully!");\n    } catch (error) {\n      console.error("Submission failed:", error);\n    } finally {\n      stopLoading();\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={handleSubmit} disabled={isLoading}>\n        {isLoading ? "Submitting..." : "Submit Form"}\n      </button>\n      \n      {isLoading && (\n        <div className="loading-overlay">\n          <div className="spinner"></div>\n          <p>Please wait...</p>\n        </div>\n      )}\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"advanced-patterns",children:"Advanced Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"multiple-disclosure-states",children:"Multiple Disclosure States"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"function MultiDisclosureExample() {\n  const disclosures = {\n    modal: useDisclosure(),\n    dropdown: useDisclosure(),\n    sidebar: useDisclosure(),\n  };\n\n  return (\n    <div>\n      <button onClick={disclosures.modal.open}>Open Modal</button>\n      <button onClick={disclosures.dropdown.toggle}>Toggle Dropdown</button>\n      <button onClick={disclosures.sidebar.open}>Open Sidebar</button>\n      \n      {/* Close all at once */}\n      <button onClick={() => {\n        Object.values(disclosures).forEach(disclosure => disclosure.close());\n      }}>\n        Close All\n      </button>\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"disclosure-with-effects",children:"Disclosure with Effects"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function DisclosureWithEffects() {\n  const { opened, open, close } = useDisclosure();\n\n  // Effect when state changes\n  useEffect(() => {\n    if (opened) {\n      console.log("Component opened");\n      document.body.style.overflow = "hidden";\n    } else {\n      console.log("Component closed");\n      document.body.style.overflow = "";\n    }\n\n    return () => {\n      document.body.style.overflow = "";\n    };\n  }, [opened]);\n\n  return (\n    <div>\n      <button onClick={open}>Open</button>\n      <button onClick={close}>Close</button>\n      <p>State: {opened ? "Open" : "Closed"}</p>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lightweight"}),": Minimal overhead compared to manual state management"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Stable Functions"}),": ",(0,t.jsx)(n.code,{children:"open"}),", ",(0,t.jsx)(n.code,{children:"close"}),", and ",(0,t.jsx)(n.code,{children:"toggle"})," functions are stable across re-renders"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"No Dependencies"}),": Zero external dependencies for optimal bundle size"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(i.A,{color:"blue",children:"Performance Tip"})," The hook uses ",(0,t.jsx)(n.code,{children:"useState"})," internally, so it follows React's optimization patterns automatically."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"typescript-support",children:"TypeScript Support"}),"\n",(0,t.jsx)(n.p,{children:"Full TypeScript support with generic inference:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// Basic usage\nconst { opened, open, close, toggle } = useDisclosure(false);\n\n// With explicit typing\nconst disclosure: {\n  opened: boolean;\n  open: () => void;\n  close: () => void;\n  toggle: () => void;\n} = useDisclosure();\n\n// In custom hook\nfunction useCustomModal() {\n  const disclosure = useDisclosure(false);\n  \n  return {\n    ...disclosure,\n    // Add custom methods\n    openWithDelay: () => setTimeout(disclosure.open, 100),\n  };\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,t.jsx)(n.h3,{id:"dont-mutate-return-values",children:"Don't Mutate Return Values"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// \u274c Wrong - this won't work\nconst { opened } = useDisclosure();\nopened = true; // Error: Cannot assign to 'opened' because it is a read-only property\n\n// \u2705 Correct - use the provided functions\nconst { opened, open, close } = useDisclosure();\nopen(); // or close(), or toggle()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"dont-use-outside-components",children:"Don't Use Outside Components"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// \u274c Wrong - hooks must be called in components\nconst { open } = useDisclosure(); // This will cause an error\n\nfunction Component() {\n  // \u2705 Correct - use inside components\n  const { open } = useDisclosure();\n  return <button onClick={open}>Open</button>;\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"migration-from-manual-state",children:"Migration from Manual State"}),"\n",(0,t.jsx)(n.h3,{id:"before-manual-state",children:"Before Manual State"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"function OldComponent() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  \n  const openModal = () => setIsModalOpen(true);\n  const closeModal = () => setIsModalOpen(false);\n  const toggleModal = () => setIsModalOpen(prev => !prev);\n  \n  return (\n    <div>\n      <button onClick={openModal}>Open</button>\n      <button onClick={closeModal}>Close</button>\n      <button onClick={toggleModal}>Toggle</button>\n      {isModalOpen && <div>Modal Content</div>}\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"after-usedisclosure",children:"After useDisclosure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"function NewComponent() {\n  const { opened, open, close, toggle } = useDisclosure();\n  \n  return (\n    <div>\n      <button onClick={open}>Open</button>\n      <button onClick={close}>Close</button>\n      <button onClick={toggle}>Toggle</button>\n      {opened && <div>Modal Content</div>}\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"types-reference",children:"Types (reference)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export function useDisclosure(\n  initialState?: boolean\n): {\n  opened: boolean;\n  open: () => void;\n  close: () => void;\n  toggle: () => void;\n};\n"})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},3023(e,n,o){o.d(n,{R:()=>i,x:()=>r});var s=o(3696);const t={},l=s.createContext(t);function i(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(l.Provider,{value:n},e.children)}},7447(e,n,o){o.d(n,{A:()=>t});o(3696);var s=o(2540);function t({children:e,color:n="warning"}){return(0,s.jsx)("span",{className:`badge badge-${n}`,children:e})}}}]);
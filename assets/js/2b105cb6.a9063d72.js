"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[880],{1938(e,n,t){t.r(n),t.d(n,{assets:()=>x,contentTitle:()=>h,default:()=>v,frontMatter:()=>p,metadata:()=>o,toc:()=>g});const o=JSON.parse('{"id":"Components/WindowBoundary","title":"WindowBoundary","description":"A performance-optimized WindowBoundary component that detects when elements enter or exit the viewport using the Intersection Observer API. It is perfect for lazy loading, infinite scrolling, triggering animations, and other performance optimizations.","source":"@site/docs/Components/WindowBoundary.md","sourceDirName":"Components","slug":"/Components/WindowBoundary","permalink":"/docs/Components/WindowBoundary","draft":false,"unlisted":false,"editUrl":"https://github.com/Oustaa/Kousta-ui/blob/main/docs/docs/Components/WindowBoundary.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Pagination","permalink":"/docs/Components/Pagination"},"next":{"title":"Label","permalink":"/docs/Components/Label"}}');var i=t(2540),r=t(3023),s=t(7447),l=t(7642),a=t(3696),c=t(7819);const d=()=>{const[e,n]=(0,a.useState)(!1);return(0,i.jsx)("div",{style:{height:"150vh",paddingTop:"75vh"},children:(0,i.jsx)(c.Rt,{onItemEnter:()=>n(!0),onItemExit:()=>n(!1),threshold:.9,root:null,children:(0,i.jsx)("div",{style:{padding:"40px",textAlign:"center",background:e?"var(--kui-success-100)":"var(--kui-neutral-200)",color:e?"var(--kui-success-800)":"var(--kui-neutral-800)",borderRadius:"8px",transition:"all 0.3s ease",border:"2px solid "+(e?"var(--kui-success-500)":"var(--kui-neutral-400)")},children:e?"I am in the viewport!":"Scroll me into view!"})})})},u=()=>{const[e,n]=(0,a.useState)(!1);return(0,i.jsx)("div",{style:{height:"150vh",paddingTop:"75vh"},children:(0,i.jsx)(c.Rt,{root:null,onceItemEnter:()=>n(!0),threshold:.1,children:(0,i.jsx)("div",{style:{minHeight:"200px",display:"grid",placeItems:"center",background:"#f0f0f0",borderRadius:"8px",color:"#888"},children:e?(0,i.jsx)("img",{src:"https://via.placeholder.com/400x200.png?text=Image+Loaded",alt:"Lazy Loaded",style:{maxWidth:"100%",borderRadius:"8px"}}):"Scroll down to load image..."})})})},m=()=>{const[e,n]=(0,a.useState)(Array.from({length:5},(e,n)=>`Item ${n+1}`)),[t,o]=(0,a.useState)(!1);return(0,i.jsxs)("div",{style:{height:"300px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"8px",padding:"16px"},children:[e.map((e,n)=>(0,i.jsx)("div",{style:{padding:"16px",borderBottom:"1px solid #eee"},children:e},n)),(0,i.jsx)(c.Rt,{onItemEnter:()=>{t||(o(!0),setTimeout(()=>{const t=Array.from({length:5},(n,t)=>`Item ${e.length+t+1}`);n(e=>[...e,...t]),o(!1)},1e3))},root:null,threshold:1,children:(0,i.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#888"},children:t?"Loading more...":"Scroll to load more"})})]})},p={sidebar_position:8},h="WindowBoundary",x={},g=[{value:"Installation",id:"installation",level:2},{value:"Import styles",id:"import-styles",level:3},{value:"Props",id:"props",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Visibility Detection",id:"basic-visibility-detection",level:3},{value:"Lazy Loading Images",id:"lazy-loading-images",level:3},{value:"Infinite Scrolling",id:"infinite-scrolling",level:3},{value:"Styling",id:"styling",level:2},{value:"Types (reference)",id:"types-reference",level:2}];function f(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"windowboundary",children:"WindowBoundary"})}),"\n",(0,i.jsxs)(n.p,{children:["A performance-optimized ",(0,i.jsx)(n.strong,{children:"WindowBoundary"})," component that detects when elements enter or exit the viewport using the Intersection Observer API. It is perfect for lazy loading, infinite scrolling, triggering animations, and other performance optimizations."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install @kousta-ui/components\n"})}),"\n",(0,i.jsx)(n.h3,{id:"import-styles",children:"Import styles"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import "@kousta-ui/components/esm/index.css";\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"props",children:"Props"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onItemEnter"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(element: Element | null) => void"})}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Callback fired every time the element enters the viewport."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onItemExit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(element: Element | null) => void"})}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Callback fired every time the element exits the viewport."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onceItemEnter"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(element: Element | null) => void"})}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Callback that fires only once when the element first enters the viewport."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onceItemExit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(element: Element | null) => void"})}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Callback that fires only once when the element first exits the viewport."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"root"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Element | Document | null"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"document.body"})}),(0,i.jsx)(n.td,{children:"The element used as the viewport for checking visibility. Defaults to the browser viewport."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"As"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"div"'})}),(0,i.jsx)(n.td,{children:"The HTML tag to render as the wrapper element."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"threshold"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0"})}),(0,i.jsx)(n.td,{children:"A number between 0 and 1 indicating the percentage of the element's visibility needed to trigger callbacks."})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(s.A,{color:"blue",children:"Note"})," The component is headless and does not have any visual styles of its own."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.h3,{id:"basic-visibility-detection",children:"Basic Visibility Detection"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"onItemEnter"})," and ",(0,i.jsx)(n.code,{children:"onItemExit"})," callbacks to track when an element becomes visible."]}),"\n",(0,i.jsx)(l.A,{tabs:[{value:"ts",language:"tsx",filename:"WindowBoundaryBasic.tsx",code:'import React, { useState } from "react";\nimport { WindowBoundary } from "@kousta-ui/components";\n\nexport default function Example() {\nconst [visible, setVisible] = useState(false);\n\nreturn (\n  <div style={{ height: "150vh", paddingTop: "75vh" }}>\n    <WindowBoundary\n      onItemEnter={() => setVisible(true)}\n      onItemExit={() => setVisible(false)}\n      threshold={0.9}\n      root={null}\n    >\n      <div\n        style={{\n          padding: "40px",\n          textAlign: "center",\n          background: visible\n            ? "var(--kui-success-100)"\n            : "var(--kui-neutral-200)",\n          color: visible\n            ? "var(--kui-success-800)"\n            : "var(--kui-neutral-800)",\n          borderRadius: "8px",\n          transition: "all 0.3s ease",\n          border: `2px solid ${visible ? "var(--kui-success-500)" : "var(--kui-neutral-400)"}`,\n        }}\n      >\n        {visible ? "I am in the viewport!" : "Scroll me into view!"}\n      </div>\n    </WindowBoundary>\n  </div>\n);\n}'},{value:"js",language:"jsx",filename:"WindowBoundaryBasic.jsx",code:'import React, { useState } from "react";\nimport { WindowBoundary } from "@kousta-ui/components";\n\nexport default function Example() {\nconst [visible, setVisible] = useState(false);\n\nreturn (\n  <div style={{ height: "150vh", paddingTop: "75vh" }}>\n    <WindowBoundary\n      onItemEnter={() => setVisible(true)}\n      onItemExit={() => setVisible(false)}\n      threshold={0.9}\n      root={null}\n    >\n      <div\n        style={{\n          padding: "40px",\n          textAlign: "center",\n          background: visible\n            ? "var(--kui-success-100)"\n            : "var(--kui-neutral-200)",\n          color: visible\n            ? "var(--kui-success-800)"\n            : "var(--kui-neutral-800)",\n          borderRadius: "8px",\n          transition: "all 0.3s ease",\n          border: `2px solid ${visible ? "var(--kui-success-500)" : "var(--kui-neutral-400)"}`,\n        }}\n      >\n        {visible ? "I am in the viewport!" : "Scroll me into view!"}\n      </div>\n    </WindowBoundary>\n  </div>\n);\n}'}],preview:(0,i.jsx)(d,{}),defaultTab:"ts"}),"\n",(0,i.jsx)(n.h3,{id:"lazy-loading-images",children:"Lazy Loading Images"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"onceItemEnter"})," to defer loading an image until it is about to enter the viewport. This saves bandwidth and improves initial page load time."]}),"\n",(0,i.jsx)(l.A,{tabs:[{value:"ts",language:"tsx",filename:"WindowBoundaryLazyImage.tsx",code:'import React, { useState } from "react";\nimport { WindowBoundary } from "@kousta-ui/components";\n\nexport default function Example() {\nconst [isInView, setIsInView] = useState(false);\n\nreturn (\n  <div style={{ height: "150vh", paddingTop: "75vh" }}>\n    <WindowBoundary\n      root={null}\n      onceItemEnter={() => setIsInView(true)}\n      threshold={0.1}\n    >\n      <div\n        style={{\n          minHeight: "200px",\n          display: "grid",\n          placeItems: "center",\n          background: "#f0f0f0",\n          borderRadius: "8px",\n          color: "#888",\n        }}\n      >\n        {isInView ? (\n          <img\n            src="https://via.placeholder.com/400x200.png?text=Image+Loaded"\n            alt="Lazy Loaded"\n            style={{ maxWidth: "100%", borderRadius: "8px" }}\n          />\n        ) : (\n          "Scroll down to load image..."\n        )}\n      </div>\n    </WindowBoundary>\n  </div>\n);\n}'},{value:"js",language:"jsx",filename:"WindowBoundaryLazyImage.jsx",code:'import React, { useState } from "react";\nimport { WindowBoundary } from "@kousta-ui/components";\n\nexport default function Example() {\nconst [isInView, setIsInView] = useState(false);\n\nreturn (\n  <div style={{ height: "150vh", paddingTop: "75vh" }}>\n    <WindowBoundary\n      root={null}\n      onceItemEnter={() => setIsInView(true)}\n      threshold={0.1}\n    >\n      <div\n        style={{\n          minHeight: "200px",\n          display: "grid",\n          placeItems: "center",\n          background: "#f0f0f0",\n          borderRadius: "8px",\n          color: "#888",\n        }}\n      >\n        {isInView ? (\n          <img\n            src="https://via.placeholder.com/400x200.png?text=Image+Loaded"\n            alt="Lazy Loaded"\n            style={{ maxWidth: "100%", borderRadius: "8px" }}\n          />\n        ) : (\n          "Scroll down to load image..."\n        )}\n      </div>\n    </WindowBoundary>\n  </div>\n);\n}'}],preview:(0,i.jsx)(u,{}),defaultTab:"ts"}),"\n",(0,i.jsx)(n.h3,{id:"infinite-scrolling",children:"Infinite Scrolling"}),"\n",(0,i.jsxs)(n.p,{children:["Place the ",(0,i.jsx)(n.code,{children:"WindowBoundary"})," at the end of a list to trigger a function that loads more items when the user scrolls to the bottom."]}),"\n",(0,i.jsx)(l.A,{tabs:[{value:"ts",language:"tsx",filename:"WindowBoundaryInfiniteScroll.tsx",code:'import React, { useState } from "react";\nimport { WindowBoundary } from "@kousta-ui/components";\n\nexport default function Example() {\nconst [items, setItems] = useState(\n  Array.from({ length: 5 }, (_, i) => `Item ${i + 1}`),\n);\nconst [loading, setLoading] = useState(false);\n\nconst loadMore = () => {\n  if (loading) return;\n  setLoading(true);\n  setTimeout(() => {\n    const newItems = Array.from(\n      { length: 5 },\n      (_, i) => `Item ${items.length + i + 1}`,\n    );\n    setItems((prev) => [...prev, ...newItems]);\n    setLoading(false);\n  }, 1000);\n};\n\nreturn (\n  <div\n    style={{\n      height: "300px",\n      overflowY: "auto",\n      border: "1px solid #ccc",\n      borderRadius: "8px",\n      padding: "16px",\n    }}\n  >\n    {items.map((item, index) => (\n      <div\n        key={index}\n        style={{ padding: "16px", borderBottom: "1px solid #eee" }}\n      >\n        {item}\n      </div>\n    ))}\n    <WindowBoundary onItemEnter={loadMore} root={null} threshold={1.0}>\n      <div style={{ padding: "20px", textAlign: "center", color: "#888" }}>\n        {loading ? "Loading more..." : "Scroll to load more"}\n      </div>\n    </WindowBoundary>\n  </div>\n);\n}'},{value:"js",language:"jsx",filename:"WindowBoundaryInfiniteScroll.jsx",code:'import React, { useState } from "react";\nimport { WindowBoundary } from "@kousta-ui/components";\n\nexport default function Example() {\nconst [items, setItems] = useState(\n  Array.from({ length: 5 }, (_, i) => `Item ${i + 1}`),\n);\nconst [loading, setLoading] = useState(false);\n\nconst loadMore = () => {\n  if (loading) return;\n  setLoading(true);\n  setTimeout(() => {\n    const newItems = Array.from(\n      { length: 5 },\n      (_, i) => `Item ${items.length + i + 1}`,\n    );\n    setItems((prev) => [...prev, ...newItems]);\n    setLoading(false);\n  }, 1000);\n};\n\nreturn (\n  <div\n    style={{\n      height: "300px",\n      overflowY: "auto",\n      border: "1px solid #ccc",\n      borderRadius: "8px",\n      padding: "16px",\n    }}\n  >\n    {items.map((item, index) => (\n      <div\n        key={index}\n        style={{ padding: "16px", borderBottom: "1px solid #eee" }}\n      >\n        {item}\n      </div>\n    ))}\n    <WindowBoundary onItemEnter={loadMore} root={null} threshold={1.0}>\n      <div style={{ padding: "20px", textAlign: "center", color: "#888" }}>\n        {loading ? "Loading more..." : "Scroll to load more"}\n      </div>\n    </WindowBoundary>\n  </div>\n);\n}'}],preview:(0,i.jsx)(m,{}),defaultTab:"ts"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"styling",children:"Styling"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"WindowBoundary"})," is a headless component, meaning it has no visual output or styles. It renders a wrapper element (a ",(0,i.jsx)(n.code,{children:"div"})," by default) around its children, to which it attaches the Intersection Observer. You can change the wrapper element using the ",(0,i.jsx)(n.code,{children:"As"})," prop."]}),"\n",(0,i.jsx)(n.p,{children:"Any styles should be applied to the child elements you pass to the component."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"types-reference",children:"Types (reference)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { ElementType } from "react";\n\nexport type WindowBoundaryProps = {\n  onItemEnter?: (element: Element | null) => void;\n  onItemExit?: (element: Element | null) => void;\n  onceItemEnter?: (element: Element | null) => void;\n  onceItemExit?: (element: Element | null) => void;\n  root?: Element | Document | null;\n  As?: string;\n  threshold?: number;\n};\n'})})]})}function v(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(f,{...e})}):f(e)}},3023(e,n,t){t.d(n,{R:()=>s,x:()=>l});var o=t(3696);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}},7447(e,n,t){t.d(n,{A:()=>i});t(3696);var o=t(2540);function i({children:e,color:n="warning"}){return(0,o.jsx)("span",{className:`badge badge-${n}`,children:e})}},7642(e,n,t){t.d(n,{A:()=>s});var o=t(3696),i=t(1750),r=t(2540);function s({tabs:e,preview:n,defaultTab:t}){const[s,l]=(0,o.useState)(t||e[0]?.value||""),a=(0,o.useRef)(null),c=e.find(e=>e.value===s)||e[0];(0,o.useEffect)(()=>{if("undefined"!=typeof window&&a.current&&c){const e=()=>{const e=window.Prism;if(e&&a.current){const n=a.current;n.textContent===c.code&&e.highlightElement(n)}};e();const n=setTimeout(e,50),t=setTimeout(e,100);if(!window.Prism){const o=setInterval(()=>{window.Prism&&(e(),clearInterval(o))},100);return()=>{clearTimeout(n),clearTimeout(t),clearInterval(o)}}return()=>{clearTimeout(n),clearTimeout(t)}}},[s,c]);const d=e=>e.startsWith("ts")?"TS":"JS";return(0,r.jsxs)("div",{className:"code-preview-wrapper",children:[(0,r.jsxs)("div",{className:"code-preview-code-block",children:[(0,r.jsx)("div",{className:"code-preview-header",children:(0,r.jsx)("div",{className:"code-preview-tabs",children:e.map(e=>{const n=s===e.value,t=e.language.startsWith("ts")?"#007acc":"#f7df1e";const o=(e=>e.startsWith("ts")?"white":"#000")(e.language);return(0,r.jsxs)("button",{className:(0,i.A)("code-preview-tab-button",{active:n}),onClick:()=>l(e.value),type:"button",children:[(0,r.jsx)("span",{className:"code-preview-tab-icon",style:{background:t,color:o},children:d(e.language)}),(0,r.jsx)("span",{className:"code-preview-tab-filename",children:e.filename})]},e.value)})})}),(0,r.jsx)("div",{className:"code-preview-code-content",children:c&&(0,r.jsx)("pre",{className:`language-${c.language}`,children:(0,r.jsx)("code",{ref:a,className:`language-${c.language}`,"data-language":c.language,children:c.code})})})]}),n&&(0,r.jsx)("div",{className:"code-preview-preview-section",children:n})]})}},7819(e,n,t){t.d(n,{$n:()=>j,DW:()=>de,JU:()=>F,Rt:()=>te,W1:()=>T,YJ:()=>Q,ZS:()=>U,aF:()=>ke,dK:()=>Ie,hR:()=>g,l6:()=>ue,pd:()=>Z,tH:()=>re,tz:()=>m});var o=t(2540),i=t(3696);function r(e,n="18px"){return e&&"string"!=typeof e&&"number"!=typeof e&&!0!==e&&(0,i.cloneElement)(e,{style:{fontSize:n}})}var s={OuicontextMenu:"OuicontextMenu_FSq47","OuicontextMenu-Item":"OuicontextMenu-Item_363h1","OuicontextMenu-ItemIcon":"OuicontextMenu-ItemIcon_jjIa-",OuicontextMenu_separator_container:"OuicontextMenu_separator_container_DT-oU",OuicontextMenu_separator:"OuicontextMenu_separator_zV0Pa",OuicontextMenu_separator_icon:"OuicontextMenu_separator_icon_9M2It",OuicontextMenu_group_title:"OuicontextMenu_group_title_m88xW"};const l=()=>(0,o.jsxs)("div",{className:`${s.OuicontextMenu_separator_container} kui-contextmenu-separator-container`,children:[(0,o.jsx)("div",{className:`${s.OuicontextMenu_separator_icon} kui-contextmenu-separator-icon`}),(0,o.jsx)("div",{className:`${s.OuicontextMenu_separator} kui-contextmenu-separator`})]}),a=({title:e})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{}),(0,o.jsxs)("div",{className:`${s.OuicontextMenu_separator_container} kui-contextmenu-group-container`,children:[(0,o.jsx)("div",{className:`${s.OuicontextMenu_separator_icon} kui-contextmenu-separator-icon`}),(0,o.jsx)("span",{className:`${s.OuicontextMenu_group_title} kui-contextmenu-group-title`,children:e})]})]}),c=e=>{const{icon:n,onClick:t,title:i,setMenuVisible:c,active:d=!0,hidden:u,closeOnClick:m=!0,itemCloseOnClick:p=!0,onClose:h}=e;if(!u)return e.optionType&&"Separator"===e.optionType?(0,o.jsx)(l,{}):e.optionType&&"Group"===e.optionType?(0,o.jsx)(a,{title:e.groupTitle}):(0,o.jsxs)("button",{onClick:e=>{e.stopPropagation(),t?.(),(!1!==p&&!0===m||!0===m)&&(c(!1),h?.())},className:`${s["OuicontextMenu-Item"]} kui-contextmenu-item ${d?"":"kui-disabled"}`,disabled:!d,children:[(0,o.jsx)("div",{className:`${s["OuicontextMenu-ItemIcon"]} kui-contextmenu-item-icon`,children:r(n)}),i]})},d=({icon:e,title:n,setMenuVisible:t,active:a=!0,subOptions:u,offsetX:m,offsetY:p,itemCloseOnClick:h})=>{const x=(0,i.useRef)(null),[g,f]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&f(!1)};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)},[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:s.OuiiconsContainer}),(0,o.jsxs)("button",{ref:x,onClick:e=>{e.stopPropagation(),a&&f(!0)},className:s["OuicontextMenu-Item"],disabled:!a,children:[(0,o.jsx)("div",{className:s["OuicontextMenu-ItemIcon"],children:r(e)}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",width:"100%"},children:[n,(0,o.jsx)("span",{children:">"})]}),g&&(0,o.jsx)("div",{className:`${s.OuicontextMenu} ${s["OuicontextMenu-Item_WithSubs"]}`,style:{left:m?"unset":"100%",right:m?"100%":"unset",top:p?"unset":0,bottom:p?0:"unset",transform:`translateX(${4*(m?-1:1)}px)`},children:u?.map((e,n)=>"Separator"===e.optionType?(0,o.jsx)(l,{}):"Group"===e.optionType?"Group":"option"===e.optionType||void 0===e.optionType&&e.subOptions?(0,o.jsx)(d,{...e,setMenuVisible:t,offsetX:m,offsetY:p,itemCloseOnClick:h},n):(0,o.jsx)(c,{...e,setMenuVisible:t,offsetX:m,offsetY:p,itemCloseOnClick:h},n))})]})]})},u=(0,i.forwardRef)(({x:e,y:n,options:t,setMenuVisible:r,offsetX:l,offsetY:a,itemCloseOnClick:u,onClose:m},p)=>(0,o.jsxs)("div",{style:{top:n-a+"px",left:e-l+"px"},className:`${s.OuicontextMenu} kui-contextmenu`,ref:p,children:[(0,o.jsx)("div",{className:`${s.OuiiconsContainer} kui-contextmenu-icons`}),t.map((e,n)=>"option"!==e.optionType&&void 0!==e.optionType||!e.subOptions?(0,i.createElement)(c,{...e,key:n,setMenuVisible:r,offsetX:l,offsetY:a,itemCloseOnClick:u,onClose:m}):(0,i.createElement)(d,{...e,key:n,offsetX:l,offsetY:a,setMenuVisible:r,itemCloseOnClick:u}))]})),m=({children:e,onClose:n,onOpen:t,options:r,disabled:s=!1,As:l="div",itemCloseOnClick:a=!0,...c})=>{const[d,m]=(0,i.useState)(!1),[p,h]=(0,i.useState)({x:0,y:0}),[x,g]=(0,i.useState)(0),[f,v]=(0,i.useState)(0),b=(0,i.useRef)(null);(0,i.useLayoutEffect)(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&(n?.(),m(!1))},[t,o,i,r]=[b.current?.clientHeight,b.current?.clientWidth,Math.max(document.body.clientHeight,screen.availHeight),document.body.clientWidth];return(t||0)+p.y>i?(h(e=>({...e,y:e.y})),v(t)):v(0),(o||0)+p.x>r?(h(e=>({...e,x:e.x})),g(o)):g(0),document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d,n,p.y,p.x]);return(0,o.jsxs)(l,{...c,onContextMenu:e=>{s||(e.preventDefault(),h({x:e.pageX,y:e.pageY}),m(!0),t?.())},children:[e,(0,o.jsx)("div",{className:"OuicontextMenu-Container kui-contextmenu-container",children:d&&r.length>0&&(0,o.jsx)(u,{ref:b,x:p.x,y:p.y,offsetY:f,offsetX:x,options:r,setMenuVisible:m,itemCloseOnClick:a,onClose:n})})]})};var p={btn:"btn_ZW5Ev","btn-sm":"btn-sm_5aNK6 btn_ZW5Ev","btn-md":"btn-md_QYFgg btn_ZW5Ev","btn-lg":"btn-lg_wGoCj btn_ZW5Ev","btn-primary":"btn-primary_nj2mO","btn-primary-outline":"btn-primary-outline_CwoxP","btn-primary-light":"btn-primary-light_c5-oQ","btn-primary-link":"btn-primary-link_q3lUV","btn-success":"btn-success_gVtb9","btn-success-outline":"btn-success-outline_JU2tm","btn-success-light":"btn-success-light_gvC01","btn-success-link":"btn-success-link_q1Q2T","btn-danger":"btn-danger_RcY68","btn-danger-outline":"btn-danger-outline_FS3R0","btn-danger-light":"btn-danger-light_1c0JI","btn-danger-link":"btn-danger-link_mzjxL","btn-neutral":"btn-neutral_XGnnH","btn-neutral-outline":"btn-neutral-outline_TqUoc","btn-neutral-light":"btn-neutral-light_qGfsp","btn-neutral-link":"btn-neutral-link_OgQ1j","btn-warning":"btn-warning_Yfoxn","btn-warning-outline":"btn-warning-outline_p5Amw","btn-warning-light":"btn-warning-light_IQXjt","btn-warning-link":"btn-warning-link_iyd6o"};const h=(0,i.createContext)({});function x(e){const n=(0,i.useContext)(h);if(n)return e?n[e]:n}const g=({children:e,...n})=>(0,o.jsx)(h.Provider,{value:n,children:e}),f="md",v="primary",b="button",y="Loading...",j=({children:e,disabled:n,loading:t,onClick:i,className:r,type:s,size:l,variant:a,...c})=>{const d=x("button");let u="";return d&&(d.size&&!l&&(l=d.size),d.type&&!s&&(s=d.type),d.variant&&!a&&(a=d.variant),d.style&&(c.style={...d.style,...c.style}),d.loadingIndicator&&!c.loadingIndicator&&(c.loadingIndicator=d.loadingIndicator),u=`${d.className||""}`,d.variants&&a&&d.variants[a]&&(c={...d.variants[a],...c,style:{...d.variants[a].style,...c.style}})),u=u+` ${p[`btn-${a||v}`]} ${p[`btn-${l||f}`]} `+r+` kui-button kui-button-${a||v} kui-button-${l||f}`,(0,o.jsx)("button",{...c,role:"button",className:u,"data-loading":t,disabled:n||t,onClick:e=>i?.(e),type:s||b,children:t?(0,o.jsx)("div",{className:"kui-button-loading",children:c.loadingIndicator||y}):e})},k=(0,i.createContext)(null),w=()=>(0,i.useContext)(k),E=({children:e,...n})=>(0,o.jsx)(k.Provider,{value:n,children:e});var I="menu_-Dayv",C="menu_target_sng2B",_="menu_dropdown_4dVSl",$="menu_item_8X2iq",S="menu_label_ZisKX",O="menu_divider_LXTZ2";const R="click",N=!0,L="Bottom-Start",B=4;var T={Menu:({children:e,type:n,closeOnClick:t,position:r,offset:s,...l})=>{const a=x("menu");if(a&&a.menu){const{menu:e}=a;e.type&&!n&&(n=e.type),e.offset&&!s&&(s=e.offset),e.position&&!r&&(r=e.position),e.closeOnClick&&void 0===t&&(t=e.closeOnClick)}n||(n=R),r||(r=L),s||(s=B),void 0===t&&(t=N);const c=(0,i.useRef)(null),[d,u]=(0,i.useState)(!1);return(0,i.useLayoutEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,o.jsx)(E,{...l,opened:d,open:()=>u(!0),close:()=>u(!1),toggle:()=>u(e=>!e),type:n,closeOnClick:t,position:r,offset:s,children:(0,o.jsx)("div",{ref:c,onMouseEnter:()=>{"click"!==n&&u(!0)},onMouseLeave:()=>{"click"!==n&&u(!1)},className:`${I} kui-menu`,children:e})})},Target:({children:e})=>{const{toggle:n,type:t}=w();return(0,o.jsx)("div",{onClick:()=>{"hover"!==t&&n()},className:`${C} kui-menu-target`,children:e})},DropDown:({children:e})=>{const{opened:n,position:t,offset:i}=w();return n?(0,o.jsx)("div",{role:"menu",style:(r=i,{"Bottom-Center":{top:`calc(100% + ${r}px)`,left:"50%",transform:"translateX(-50%)"},"Bottom-Start":{top:`calc(100% + ${r}px)`,left:"0"},"Bottom-End":{top:`calc(100% + ${r}px)`,right:"0"},"Left-Center":{right:`calc(100% + ${r}px)`,top:"50%",transform:"translateY(-50%)"},"Left-Start":{right:`calc(100% + ${r}px)`,top:"0"},"Left-End":{right:`calc(100% + ${r}px)`,bottom:"0"},"Right-Center":{top:"50%",left:`calc(100% + ${r}px)`,transform:"translateY(-50%)"},"Right-Start":{top:"0",left:`calc(100% + ${r}px)`},"Right-End":{left:`calc(100% + ${r}px)`,bottom:"0"},"Top-Center":{bottom:`calc(100% + ${r}px)`,left:"50%",transform:"translateX(-50%)"},"Top-Start":{bottom:`calc(100% + ${r}px)`,left:"0"},"Top-End":{bottom:`calc(100% + ${r}px)`,right:"0"}})[t],className:`${_} kui-menu-dropdown`,children:e}):null;var r},Item:({children:e,closeMenuOnClick:n,leftSection:t,rightSection:i,disabled:r,onClick:s})=>{const l=x("menu");if(l&&l.menuItem){const{menuItem:e}=l;e.closeMenuOnClick&&void 0===n&&(n=e.closeMenuOnClick)}const{close:a,closeOnClick:c}=w(),d=!0===(n??c);return(0,o.jsxs)("button",{disabled:r,role:"menuitem",onClick:()=>{s?.(),d&&a()},className:`${$} kui-menu-item ${r?"kui-disabled":""}`,children:[t&&t,e,i&&i]})},Label:({children:e,leftSection:n,rightSection:t})=>(0,o.jsxs)("span",{className:`${S} kui-menu-label`,children:[n&&n,e,t&&t]}),Divider:()=>(0,o.jsx)("hr",{className:`${O} kui-menu-divider`})};function M(e,n){return{...e||{},...n}}function W(e,n){return(0,i.isValidElement)(e)?(0,i.cloneElement)(e,{style:M(e.props.style,{..."column"===n?{borderBottomLeftRadius:0,borderBottomRightRadius:0}:{borderTopRightRadius:0,borderBottomRightRadius:0}})}):e}function V(e,n){return(0,i.isValidElement)(e)?(0,i.cloneElement)(e,{style:M(e.props.style,{..."column"===n?{borderTopLeftRadius:0,borderTopRightRadius:0}:{borderTopLeftRadius:0,borderBottomLeftRadius:0}})}):e}function A(e,n,t,o){return(0,i.isValidElement)(e)?(0,i.cloneElement)(e,{key:o,style:M(e.props.style,{...n?.left&&("column"===t?{borderBottomLeftRadius:0,borderBottomRightRadius:0}:{borderTopLeftRadius:0,borderBottomLeftRadius:0}),...n?.right&&("column"===t?{borderTopLeftRadius:0,borderTopRightRadius:0}:{borderTopRightRadius:0,borderBottomRightRadius:0})})}):e}var D="input-container_b9dxl",P="input-inner_FDBqz",z="input_aRXjR",X="error-message_q60fT",Y="label_jvxMB";const F=({children:e,required:n,errors:t,contextualClass:i,...r})=>(0,o.jsx)("label",{"data-required":e&&String(n),"data-error":Array.isArray(t)&&t.length>0?"true":"false",className:`${Y} kui-label ${i||""}`,htmlFor:e,...r,children:e});var q="formElement_oSOLw";function H(e="y"){switch(e){case"x":return{flexDirection:"row",alignItems:"center"};case"y":return{flexDirection:"column",alignItems:"start"}}}const U=({children:e,labelPosition:n})=>(0,o.jsx)("div",{className:`${q} kui-form-element`,style:H(n),children:e});var K="group_xz-zw";const Q=({children:e,direction:n,gap:t,...r})=>{const s=[];if(Array.isArray(e))if(1===e.length)(0,i.isValidElement)(e[0])?s.push((0,i.cloneElement)(e[0],{key:0})):s.push(e[0]);else if(2===e.length){const t=W(e[0],n);(0,i.isValidElement)(t)?s.push((0,i.cloneElement)(t,{key:0})):s.push(t);const o=V(e[1],n);(0,i.isValidElement)(o)?s.push((0,i.cloneElement)(o,{key:1})):s.push(o)}else{const t=W(e[0],n);(0,i.isValidElement)(t)?s.push((0,i.cloneElement)(t,{key:0})):s.push(t);for(let l=1;l<e.length-1;l++){const t=A(e[l],{left:e[0],right:e[e.length-1]},n,l);(0,i.isValidElement)(t)?s.push((0,i.cloneElement)(t,{key:l})):s.push(t)}const o=e.length-1,r=V(e[o],n);(0,i.isValidElement)(r)?s.push((0,i.cloneElement)(r,{key:o})):s.push(r)}else s.push(e);return(0,o.jsx)("div",{style:{gap:t,flexDirection:n,...r.style},...r,className:`${K} kui-group`,role:"group",children:s})},Z=({label:e,errors:n,required:t,leftSection:i,rightSection:r,labelProps:s,labelPosition:l="y",...a})=>(0,o.jsxs)("div",{className:`${D} kui-input-container`,children:[(0,o.jsxs)(U,{labelPosition:l,children:[e&&(0,o.jsx)(F,{...s,required:t,errors:n,contextualClass:"kui-input-label",children:e}),(0,o.jsx)("div",{className:`${P} kui-input-inner`,children:(0,o.jsxs)(Q,{style:{width:"100%"},children:[i,A((0,o.jsx)("input",{"data-error":Array.isArray(n)&&n.length>0?"true":"false",className:`${z} kui-input`,id:e,pattern:{number:"^[0-9]+$"}[a.type],...a}),{left:i,right:r}),r]})})]}),n&&(0,o.jsx)("span",{className:`${X} kui-input-error-message`,children:n?.[0]})]});function G(e){return["{","}","(",")","[","]","-","_","/","|"," "].includes(e)}function J(e,n){let t="",o="",i=e;for(let r=0;r<n.length;r++){const s=n[r];G(s)?(0!==o.trim().length&&"-"!==s&&"_"!==s&&(t+=i[o],o="",i=e),"-"!==s&&"_"!==s||!/\w/i.test(s)?t+=s:o+=s):"."===s&&o?(i=i[o],o=""):o+=s}return o&&(t?t+=i[o]:t=i[o]),t}var ee={"select-container":"select-container_6McNi",disabled:"disabled_k7m4I","highlighted-option":"highlighted-option_B1sJB","select-dropdown":"select-dropdown_GyWHs","select-option":"select-option_9dxlY","select-option-fallback":"select-option-fallback_5h299","select-empty-message":"select-empty-message_bIS56","select-outer":"select-outer_5RZtA","select-inner":"select-inner_aXAWI",error:"error_P2c-V","select-input":"select-input_W09D5","clear-select":"clear-select_R-pnc","select-toggle":"select-toggle_EOx-j","select-placeholder":"select-placeholder_7aVq-","select-value":"select-value_XVosT","select-error-message":"select-error-message_mrpNs","error-message":"error-message_i1Hij","select-loading-indicator":"select-loading-indicator_oqDsd"};const ne=(e,n)=>n?n.renderOption&&"function"==typeof n.renderOption?n.renderOption(e):n.label?J(e,n.label):void 0:"",te=({onItemEnter:e,onItemExit:n,onceItemEnter:t,onceItemExit:r,children:s,root:l,threshold:a=0,As:c="div"})=>{const d=(0,i.useRef)(null),u=(0,i.useRef)({onceItemEnter:t,onceItemExit:r});(0,i.useEffect)(()=>{u.current.onceItemEnter=t,u.current.onceItemExit=r},[t,r]),(0,i.useEffect)(()=>{const t=void 0===l?document.body:l,o=new IntersectionObserver(([t])=>{t.isIntersecting?(e?.(d.current),u.current.onceItemEnter&&(u.current.onceItemEnter(d.current),u.current.onceItemEnter=void 0)):(n?.(d.current),u.current.onceItemExit&&(u.current.onceItemExit(d.current),u.current.onceItemExit=void 0))},{root:t,threshold:a});return d.current&&o.observe(d.current),()=>{d.current&&o.unobserve(d.current)}},[l,a,e,n]);const m=c;return(0,o.jsx)(m,{ref:d,children:s})},oe=({row:e,options:n,onSelectValue:t,value:r,isHighlighted:s,highlightOption:l,disabledOption:a,onLastItemRendered:c,dropdownRef:d,shouldScrollIntoView:u=!0})=>{const m=(0,i.useRef)(null),p=a?.(e)??!1;(0,i.useEffect)(()=>{u&&s&&m.current&&m.current.scrollIntoView({behavior:"auto",block:"nearest"})},[s,u]);const h=J(e,n?.value),x=r===h;return(0,o.jsx)(te,{onceItemEnter:c,root:d?.current??void 0,threshold:.5,children:(0,o.jsx)("div",{ref:m,role:"option",onMouseEnter:l,className:[ee["select-option"],s?ee["highlighted-option"]:"","kui-select-option "+(s?"kui-select-option-highlighted":"")].join(" "),"data-selected":x,"data-disabled":p,onClick:()=>{p||(l(),t(h))},children:ne(e,n)})})};var ie="error-text_Oxnlg";class re extends i.Component{state={hasError:!1,error:void 0,loading:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e){const n=this.props.onError;if(n&&"function"==typeof n&&n(e),this.props.throwOnError)throw e}render(){const e=this.props.fallback;return this.state.hasError?e&&(0,i.isValidElement)(e)?e:(0,o.jsx)("h3",{className:`${ie} kui-error-boundary-text`,children:"An Error Has Ocured"}):this.props.children}}const se=({data:e,emptyMessage:n="No option found",closeOnClickOutside:t,disabledOption:r,options:s,onSelectValue:l,extraOptionsLoading:a,value:c,onLastItemRendered:d,disableErrorBoundaries:u,optionErrorFallback:m,persistedScrollTop:p,restorePersistedScrollTop:h,onScrollTopChange:x})=>{const g=(0,i.useRef)(null),f=(0,i.useRef)(null),v=(0,i.useRef)(!1),[b,y]=(0,i.useState)(()=>{if(c){return e.findIndex(e=>c===J(e,s?.value))}return 0}),j=(0,i.useCallback)(n=>{n>=e.length&&(n=0);const t=e[n];return r&&r(t)?j(n+1):n},[b,e]),k=(0,i.useCallback)(n=>{n<0&&(n=e.length-1);const t=e[n];return r&&r(t)?k(n-1):n},[b,e]);(0,i.useEffect)(()=>{document.addEventListener("mousedown",t),document.addEventListener("touchstart",t,!0);const e=e=>{"Escape"===e.key&&t(),"ArrowDown"===e.key&&(v.current=!0,y(e=>j(e+1)),e.preventDefault()),"ArrowUp"===e.key&&(v.current=!0,y(e=>k(e-1)),e.preventDefault())};return document.addEventListener("keydown",e),()=>{window.removeEventListener("mousedown",t),window.removeEventListener("touchstart",t),document.removeEventListener("keydown",e)}},[e]),(0,i.useEffect)(()=>{v.current=!1,y(n=>n>=e.length?0:n)},[e]),(0,i.useLayoutEffect)(()=>{h&&"number"==typeof p&&g.current&&(g.current.scrollTop=p)},[h,p,e.length]),(0,i.useEffect)(()=>{a&&f.current&&f.current.scrollIntoView({behavior:"auto",block:"nearest"})},[a]),(0,i.useEffect)(()=>{const n=n=>{if("Enter"===n.key){const n=J(e[b],s?.value);l(n)}};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[b]);const w=(0,i.useCallback)(e=>{y(e)},[]);return(0,o.jsx)("div",{ref:g,onScroll:e=>{x?.(e.target.scrollTop)},className:`${ee["select-dropdown"]} kui-select-dropdown`,children:0!==e.length||a?(0,o.jsxs)(o.Fragment,{children:[e.map((n,t)=>(0,o.jsx)(re,{throwOnError:u,fallback:m?(0,o.jsx)("div",{className:ee["select-option"],children:m({row:n})}):(0,o.jsx)("div",{className:[ee["select-option"],ee["select-option-fallback"]].join(" "),children:"Error Ocured while rendering option"}),children:(0,o.jsx)(oe,{index:t,dataLength:e.length,dropdownRef:g,row:n,isHighlighted:t===b,options:s,onSelectValue:l,value:c,highlightOption:()=>{v.current=!0,w(t)},shouldScrollIntoView:v.current,disabledOption:r,onLastItemRendered:t===e.length-1?d:void 0})},J(n,s?.value))),a&&(0,o.jsx)("div",{ref:f,role:"option","data-disabled":"true",className:[ee["select-option"],"kui-select-option"].join(" "),children:"Loading..."})]}):(0,o.jsx)("div",{className:`${ee["select-empty-message"]} kui-select-empty-message`,"data-disabled":"true",children:n})})},le=(0,i.forwardRef)(({search:e,isSearching:n,placeholder:t},i)=>(0,o.jsx)("input",{ref:i,className:`${ee["select-input"]} kui-select-input`,style:n?{display:"block"}:{display:"none"},placeholder:t,onChange:n=>{e(n.target.value)},onKeyDown:e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key&&"Enter"!==e.key||e.preventDefault()}})),ae=()=>(0,o.jsxs)("div",{className:ee["select-loading-indicator"],children:[(0,o.jsx)("span",{children:"."}),(0,o.jsx)("span",{children:"."}),(0,o.jsx)("span",{children:"."})]}),ce=({label:e,labelProps:n,errors:t,required:r,labelPosition:s,data:l,options:a,clearable:c,emptyMessage:d,seachable:u,disabled:m,onChange:p,disabledOption:h,onSearch:g,loading:f,asyncSearch:v,onLastItemRendered:b,isMultiple:y,placeholder:j,rawValue:k,extraOptionsLoading:w,onBlur:E,disableErrorBoundaries:I,optionErrorFallback:C,selectErrorFallback:_,icons:$,...S})=>{const O=x("select");O?(void 0===c&&void 0!==O.clearable&&(c=O.clearable),O.emptyMessage&&!d&&(d=O.emptyMessage),O.rawValue&&void 0===k&&(k=O.rawValue),O.labelPosition&&!s&&(s=O.labelPosition),O.labelProps&&(n={...O.labelProps,...n}),a||(a=O.options?O.options:{value:"value",label:"label"}),!C&&O.optionErrorFallback&&(C=O.optionErrorFallback),_||(_=O.selectErrorFallback),O.icons&&($=$?{...O.icons,...$}:O.icons),void 0===u&&(u=void 0===O.seachable||O.seachable),O.required&&void 0===r&&(r=O.required),O.disableErrorBoundaries&&void 0===I&&(I=O.disableErrorBoundaries)):(a||(a={value:"value",label:"label"}),$||($={}));const R=(0,i.useRef)(null),[N,L]=(0,i.useState)(!1),[B,T]=(0,i.useState)(l),M=(0,i.useRef)(0),[W,V]=(0,i.useState)(!1),A=(0,i.useRef)(l.length),D=(0,i.useRef)(!1),[P,z]=(0,i.useState)(S.value),X=(0,i.useRef)(null),Y=(0,i.useRef)(null),[q,H]=(0,i.useState)(!1),K=(0,i.useCallback)(()=>{m||f||H(!q)},[q,m,f]),Q=(0,i.useCallback)(()=>{H(!1),T(l),L(!1),X.current&&E?.({...X.current,clear(){z(null)}}),R.current&&(R.current.value="")},[l,E]),Z=(0,i.useCallback)(e=>{e&&X.current&&X.current.contains(e.target)||Q()},[l]),G=(0,i.useCallback)(e=>{z(e),p?.(k?l.find(n=>J(n,a?.value)===e):e),y||Q(),R.current&&y&&(R.current.value="")},[l,Q,y,p]),ne=(0,i.useMemo)(()=>l.find(e=>J(e,a?.value)===P),[P,l]),te=(0,i.useMemo)(()=>ne?J(ne,a?.label):"",[ne]),oe=(0,i.useCallback)(e=>{if(v&&"function"==typeof v)v(e);else if(a?.label||g&&"function"==typeof g){const n=new RegExp(e,"i");if(e&&""===e.trim()||!e)T(l);else{const t=l.filter(t=>{if(g&&"function"==typeof g)return g(t,e);if(a&&a.label){return n.test(J(t,a.label))}return n.test(J(t,"label"))});T(t)}}},[l]);return(0,i.useEffect)(()=>{T(l)},[l]),(0,i.useEffect)(()=>{const e=A.current,n=D.current;q&&n&&"boolean"==typeof w&&!1===w&&B.length>e&&(V(!0),requestAnimationFrame(()=>V(!1))),A.current=B.length,D.current=Boolean(w)},[q,w,B.length]),(0,o.jsxs)("div",{className:`${ee["select-container"]}${m?" disabled":""} kui-select-container`,children:[(0,o.jsxs)(U,{labelPosition:s,children:[e&&(0,o.jsx)(F,{errors:t,required:r,contextualClass:"kui-select-label",...n,onClick:()=>{Y.current?.focus(),K()},children:e}),(0,o.jsxs)("div",{ref:X,className:`${ee["select-outer"]} kui-select-outer`,children:[(0,o.jsxs)("div",{className:`\n              ${ee["select-inner"]}\n              ${(m||f)&&ee.disabled}\n              ${t&&ee.error}\n              kui-select-inner ${m&&"kui-disabled"} ${t&&"kui-error"}\n            `,ref:Y,tabIndex:m||f?-1:0,onBlur:e=>{Z(e)},onKeyDown:e=>{if(/^\w$/i.test(e.key)){if(!1===u)return;R.current&&!N&&(q||K(),R.current.value=R.current.value+e.key,oe(R.current.value),e.stopPropagation(),e.preventDefault()),L(!0),R.current?.focus()}"ArrowDown"!==e.key&&"ArrowUp"!==e.key||q||(K(),e.stopPropagation(),e.preventDefault()),"Enter"===e.key&&e.preventDefault()},onClick:()=>{K()},children:[(0,o.jsx)(le,{search:oe,ref:R,isSearching:N,placeholder:j}),!N&&(0,o.jsx)("span",{className:`${ee["select-value"]} kui-select-value`,children:!ne&&j?(0,o.jsx)("span",{className:ee["select-placeholder"],children:j}):a?.renderOption&&"function"==typeof a?.renderOption&&ne?a.renderOption(ne):te}),f?$?.loading?(0,o.jsx)("div",{className:ee["select-loading-indicator"],children:$.loading}):(0,o.jsx)(ae,{}):!1!==c&&ne&&(0,o.jsx)("button",{className:`\n                  ${ee["clear-select"]}\n                  ${t&&ee.error}\n                  ${m&&ee.disabled}\n                  kui-select-clear ${t&&"kui-error"} ${m&&"kui-disabled"}\n                `,onClick:e=>{z(void 0),p?.(void 0),e.stopPropagation()},children:$?.clear?$.clear:"X"}),(0,o.jsx)("button",{className:`\n                ${ee["select-toggle"]}\n                ${q&&ee.open}\n                ${m&&ee.disabled}\n                kui-select-toggle ${q&&"kui-open"} ${m&&"kui-disabled"}\n              `,tabIndex:-1,onClick:e=>{q?Q():K(),e.stopPropagation()},children:q?$?.open?$.open:"V":$?.close?$.close:"V"})]}),q&&(0,o.jsx)(se,{data:B,options:a,emptyMessage:d,closeOnClickOutside:Z,onSelectValue:G,value:P,disabledOption:h,extraOptionsLoading:Boolean(w),persistedScrollTop:M.current,restorePersistedScrollTop:W,onScrollTopChange:e=>{M.current=e},onLastItemRendered:b,disableErrorBoundaries:I,optionErrorFallback:C})]})]}),t&&(0,o.jsx)("div",{className:ee["select-error-message"],children:"string"==typeof t?(0,o.jsx)("p",{className:ee["error-message"],children:t}):Array.isArray(t)?t.map((e,n)=>(0,o.jsx)("p",{className:ee["error-message"],children:e},n)):""})]})};const de=({getData:e,extractDynamicData:n,limit:t,hasMore:r,searchTimeout:s,...l})=>{const a=(0,i.useRef)(!1),c=x("asyncSelect");c&&(void 0!==c.limit&&void 0===t&&(t=c.limit),!n&&c.extractDynamicData&&(n=c.extractDynamicData),!r&&c.hasMore&&(r=c.hasMore),void 0!==c.searchTimeout&&void 0===s&&(s=c.searchTimeout)),void 0===t&&(t=50),void 0===s&&(s=500);const[d,u]=(0,i.useState)(""),[m,p]=(0,i.useState)(1),[h,g]=(0,i.useState)([]),[f,v]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!0),j=(0,i.useCallback)(()=>{b&&!a.current&&(a.current=!0,v(!0),e({limit:t,page:m,searchTerm:d}).then(e=>{const t=n?n(e):e;g(e=>[...e,...t]),r&&y(r(e,m)),p(e=>e+1)}).catch(console.error).finally(()=>{a.current=!1,v(!1)}))},[n,e,r,t,b,m,d]);(0,i.useEffect)(()=>{j()},[]);const k=function(e,n){const t=(0,i.useRef)(e),o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{t.current=e}),(0,i.useCallback)((...e)=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{t.current(...e)},n)},[n])}(()=>{g([]),j()},s);return(0,o.jsx)(ce,{data:h,loading:f,extraOptionsLoading:f&&m>1,...l,onLastItemRendered:j,asyncSearch:e=>(u(e||""),p(1),y(!0),g([]),k())})},ue=e=>(0,o.jsx)(ce,{...e});var me={"modal-container":"modal-container_a9s1p","modal-header":"modal-header_gKQjC","modal-body":"modal-body_QBFX2",backdrop:"backdrop_79rcb"};const pe=e=>({center:{marginInline:"auto",top:"50%",right:"50%",transform:"translateY(-50%) translateX(50%)"},bottom:{bottom:`${e}px`,top:"unset",right:"50%",transform:"translateX(50%)"},top:{bottom:"unset",top:`${e}px`,right:"50%",transform:"translateX(50%)"},right:{marginInline:"unset",marginInlineStart:"auto",top:"50%",transform:"translateY(-50%)",left:"unset",right:`${e}px`},"right-top":{marginInlineStart:"auto",top:`${e}px`,left:"unset",right:`${e}px`},"right-bottom":{marginInlineStart:"auto",bottom:`${e}px`,top:"unset",left:"unset",right:`${e}px`},left:{marginInline:"unset",top:"50%",transform:"translateY(-50%)",right:"unset",left:`${e}px`},"left-bottom":{marginInline:"unset",bottom:`${e}px`,top:"unset",right:"unset",left:`${e}px`},"left-top":{marginInline:"unset",top:`${e}px`,right:"unset",left:`${e}px`}}),he={xs:"600px",sm:"850px",md:"1250px",lg:"1440px",xl:"1800px"},xe="md",ge=!0,fe=!0,ve="center",be=0,ye=!0,je=!0,ke=({children:e,title:n,opened:t,onClose:r,size:s,withCloseBtn:l,withBackdrop:a,modalTrigger:c,afterClose:d,beforeClose:u,afterOpen:m,beforeOpen:p,position:h,offset:g,fullHeight:f,fullWidth:v,closeOnClickEsc:b,closeOnClickOutside:y,modalTriggerBtnVariant:k})=>{const w=x("modal");w&&(w.position&&!h&&(h=w.position),w.size&&!s&&(s=w.size),w.offset&&void 0===g&&(g=w.offset),void 0!==w.closeOnClickEsc&&void 0===b&&(b=w.closeOnClickEsc),void 0!==w.closeOnClickOutside&&void 0===y&&(y=w.closeOnClickOutside),void 0!==w.withCloseBtn&&void 0===l&&(l=w.withCloseBtn),void 0!==w.withBackdrop&&void 0===a&&(a=w.withBackdrop)),s||(s=xe),void 0===l&&(l=ge),void 0===a&&(a=fe),h||(h=ve),g||(g=be),void 0===b&&(b=ye),void 0===y&&(y=je);const{lockScroll:E,unlockScroll:I}={lockScroll:(0,i.useCallback)(()=>{const e=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${e}px`},[]),unlockScroll:(0,i.useCallback)(()=>{document.body.style.overflow="",document.body.style.paddingRight=""},[])},C=(0,i.useRef)(null),_="boolean"==typeof t,[$,S]=(0,i.useState)(!!t),O=_&&t||$,R=s&&s in he?he[s]:`${s}px`,N=(0,i.useCallback)(()=>{p&&!1===p()||(_||(S(!0),m?.()),E())},[p,m,_]),L=(0,i.useCallback)(()=>{u&&!1===u()||(_?(r?.(),S(!1)):C.current&&(S(!1),d?.()),I())},[u,t,d,_,r]);return(0,i.useEffect)(()=>(_&&t&&E(),()=>I()),[t]),(0,i.useEffect)(()=>{C.current&&(O?(S(!0),E(),m?.()):(S(!1),I(),d?.()))},[m,d]),(0,i.useEffect)(()=>{const e=e=>{if(!1===y)return;const n=C.current;if(!n)return;const t=e.target;if(t&&n.contains(t))return;const o=e.composedPath?.();o&&o.some(e=>e instanceof Node&&n.contains(e))||L()};document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0);const n=e=>{!1!==b&&"Escape"===e.key&&L()};return document.addEventListener("keydown",n),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("keydown",n)}},[$,t,L]),(0,o.jsxs)(o.Fragment,{children:[!_&&c&&(0,o.jsx)(j,{variant:k,onClick:N,children:c}),a&&(_&&t||$)&&(0,o.jsx)("div",{className:`${me.backdrop} kui-modal-backdrop`}),(_&&t||$)&&(0,o.jsxs)("div",{"data-testid":"dialog-modal",role:"modal",ref:C,style:{animation:"toLeft 5s toLeft",width:v?`calc(100vw - ${2*(g||0)}px)`:`clamp(200px, ${R}, calc(100% - ${g}px))`,height:f?`calc(100vh - ${2*(g||0)}px)`:"max-content",...pe(g)[h]},className:`${me["modal-container"]} kui-modal kui-modal-${s||xe} kui-modal-${h||ve}`,children:[(n||l)&&(0,o.jsxs)("header",{className:`${me["modal-header"]} kui-modal-header`,children:[n?(0,o.jsx)("h3",{className:`${me["modal-title"]} kui-modal-title`,children:n}):(0,o.jsx)("h3",{}),l?(0,o.jsx)("button",{role:"modal-close",className:"kui-modal-close",onClick:L,children:"X"}):(0,o.jsx)("div",{})]}),(0,o.jsx)("div",{className:`${me["modal-body"]} kui-modal-body`,children:e}),(0,o.jsx)("div",{className:`${me["modal-footer"]} kui-modal-footer`})]})]})};function we(e,n,t=1,o=void 0){const i=[],r=o?Math.max("start"===o?1:n-2*t-2,1):e-t,s=o?Math.min("start"===o?r+2*t+2:n,n):e+t;for(let l=r;l<=s;l++)i.push(l);return i}var Ee={"pagination-container":"pagination-container_PKQ5f","pagination-link":"pagination-link_1CAyW",active:"active_VcXDM","is-control":"is-control_dBoRb"};const Ie=({page:e=1,totalPages:n,onChange:t,nextIcon:r,placeholderIcon:s,prevIcon:l,seblings:a,disabled:c})=>{const d=x("pagination");d&&(s||(s=d.placeholderIcon),r||(r=d.nextIcon),l||(l=d.prevIcon),a||(a=d.seblings)),a||(a=1);const[u,m]=(0,i.useState)(e);(0,i.useEffect)(()=>{m(e)},[e]),(0,i.useEffect)(()=>{n<1||(u>n&&m(Math.max(n,1)),u<1&&m(1))},[u,n]);const p=Math.min(Math.max(u,1),n),h=(0,i.useMemo)(()=>{let e=[];return p<=2*a+2?(e=we(p,n,a,"start"),e[e.length-1]!==n&&e.push("",n)):p>n-2*a-1?(e=we(p,n,a,"end"),1!==e[0]&&(e=[1,"",...e])):(e=we(p,n,a),Number(e[e.length-1])<n-1&&e.push("",n),Number(e[1])>2&&(e=[1,"",...e])),e},[p,a,n]);return n<1?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)("div",{className:Ee["pagination-container"],children:[(0,o.jsx)("button",{disabled:1===p||c,className:[Ee["pagination-link"],Ee["is-control"],"kui-pagination-link"].join(" "),onClick:()=>m(e=>(t?.(e-1),e-1)),children:l&&(0,i.isValidElement)(l)?l:"Prev"}),h.map((e,n)=>"string"==typeof e?(0,o.jsx)("button",{disabled:!0,className:[Ee["pagination-link"],"kui-pagination-placeholder"].join(" "),children:s&&(0,i.isValidElement)(s)?s:"..."},` ${n} `):(0,o.jsx)("button",{onClick:()=>{e!==p&&(t?.(e),m(e))},disabled:c,className:[Ee["pagination-link"],e===p&&Ee.active,"kui-pagination-link",e===p&&"kui-pagination-active-link"].join(" "),children:e},e)),(0,o.jsx)("button",{disabled:p===n||c,className:[Ee["pagination-link"],Ee["is-control"],"kui-pagination-link"].join(" "),onClick:()=>m(e=>(t?.(e+1),e+1)),children:r&&(0,i.isValidElement)(r)?r:"Next"})]})}}}]);
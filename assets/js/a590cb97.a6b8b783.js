"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9985],{3023(e,t,n){n.d(t,{R:()=>i,x:()=>l});var s=n(3696);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}},6581(e,t,n){n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>b,frontMatter:()=>h,metadata:()=>s,toc:()=>x});const s=JSON.parse('{"id":"Components/AsyncSelect","title":"AsyncSelect","description":"An advanced AsyncSelect component that provides server-side search and infinite scrolling capabilities. Perfect for large datasets where you need to fetch data dynamically from an API.","source":"@site/docs/Components/AsyncSelect.md","sourceDirName":"Components","slug":"/Components/AsyncSelect","permalink":"/docs/Components/AsyncSelect","draft":false,"unlisted":false,"editUrl":"https://github.com/Oustaa/Kousta-ui/blob/main/docs/docs/Components/AsyncSelect.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Select","permalink":"/docs/Components/Select"},"next":{"title":"WindowBoundary","permalink":"/docs/Components/WindowBoundary"}}');var r=n(2540),o=n(3023),i=n(7447),l=(n(3696),n(7819));const a=[{id:"1",name:"John Doe",email:"john.d@example.com",avatar:"https://i.pravatar.cc/40?u=1"},{id:"2",name:"Jane Smith",email:"jane.s@example.com",avatar:"https://i.pravatar.cc/40?u=2"},{id:"3",name:"Peter Jones",email:"peter.j@example.com",avatar:"https://i.pravatar.cc/40?u=3"},{id:"4",name:"Mary Williams",email:"mary.w@example.com",avatar:"https://i.pravatar.cc/40?u=4"},{id:"5",name:"David Brown",email:"david.b@example.com",avatar:"https://i.pravatar.cc/40?u=5"},{id:"6",name:"Susan Davis",email:"susan.d@example.com",avatar:"https://i.pravatar.cc/40?u=6"},{id:"7",name:"Michael Miller",email:"michael.m@example.com",avatar:"https://i.pravatar.cc/40?u=7"},{id:"8",name:"Linda Wilson",email:"linda.w@example.com",avatar:"https://i.pravatar.cc/40?u=8"}],c=({page:e,limit:t,searchTerm:n})=>new Promise(s=>{setTimeout(()=>{const r=a.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.email.toLowerCase().includes(n.toLowerCase())),o=r.length,i=Math.ceil(o/t),l=(e-1)*t,c=l+t,d=r.slice(l,c);s({items:d,totalItems:o,totalPages:i,currentPage:e})},500)}),d=()=>(0,r.jsx)("div",{style:{width:"100%",maxWidth:420},children:(0,r.jsx)(l.DW,{label:"Search Users",getData:c,extractDynamicData:e=>e.items,hasMore:(e,t)=>t<e.totalPages,options:{value:"id",label:"name"},placeholder:"Type to search users..."})}),u=()=>(0,r.jsx)("div",{style:{width:"100%",maxWidth:420},children:(0,r.jsx)(l.DW,{label:"Assign to User",getData:c,extractDynamicData:e=>e.items,hasMore:(e,t)=>t<e.totalPages,options:{value:"id",label:"name",renderOption:e=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("img",{src:e.avatar,alt:e.name,style:{width:24,height:24,borderRadius:"50%"}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:"bold"},children:e.name}),(0,r.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:e.email})]})]})},placeholder:"Search users by name or email..."})}),h={sidebar_position:7},p="AsyncSelect",m={},x=[{value:"When to use",id:"when-to-use",level:2},{value:"Props",id:"props",level:2},{value:"GetDataParams",id:"getdataparams",level:3},{value:"Usage",id:"usage",level:2},{value:"Basic Async Search",id:"basic-async-search",level:3},{value:"Preview",id:"preview",level:3},{value:"With Custom Option Rendering",id:"with-custom-option-rendering",level:3},{value:"Preview",id:"preview-1",level:3},{value:"Styles &amp; customization",id:"styles--customization",level:2},{value:"Runtime classes",id:"runtime-classes",level:3},{value:"Tokens used by the default styles",id:"tokens-used-by-the-default-styles",level:3},{value:"Types (reference)",id:"types-reference",level:2}];function g(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"asyncselect",children:"AsyncSelect"})}),"\n",(0,r.jsxs)(t.p,{children:["An advanced ",(0,r.jsx)(t.strong,{children:"AsyncSelect"})," component that provides server-side search and infinite scrolling capabilities. Perfect for large datasets where you need to fetch data dynamically from an API."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"when-to-use",children:"When to use"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Large datasets"}),": When you have thousands of options and need server-side filtering."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Infinite scrolling"}),": For paginated data that loads as users scroll."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Search APIs"}),": When you need to query a backend search endpoint."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Dynamic data"}),": When options change based on user input or other conditions."]}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"props",children:"Props"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"}),(0,r.jsx)(t.th,{children:"Provider?"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"getData"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"(params: GetDataParams) => Promise<any>"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Required"})}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"Function to fetch data from your API."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"extractDynamicData"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"(response: any) => T[]"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Required"})}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"Function to extract the data array from the API response."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"hasMore"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"(response: any, page: number) => boolean"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Required"})}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"Function to determine if more pages are available for infinite scrolling."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"options"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"SelectOptionType<T>"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'{ value: "value", label: "label" }'})}),(0,r.jsx)(t.td,{children:"Yes"}),(0,r.jsx)(t.td,{children:"Configuration for extracting value, label, and custom rendering from data items."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"debounceMs"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"number"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"300"})}),(0,r.jsx)(t.td,{children:"No"}),(0,r.jsx)(t.td,{children:"Debounce delay in milliseconds for search requests."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"..."})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"SelectProps<T>"})}),(0,r.jsx)(t.td,{}),(0,r.jsx)(t.td,{}),(0,r.jsxs)(t.td,{children:["Inherits all other props from the ",(0,r.jsx)(t.code,{children:"Select"})," component, such as ",(0,r.jsx)(t.code,{children:"label"}),", ",(0,r.jsx)(t.code,{children:"placeholder"}),", ",(0,r.jsx)(t.code,{children:"clearable"}),", ",(0,r.jsx)(t.code,{children:"disabled"}),", etc."]})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"getdataparams",children:"GetDataParams"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"type GetDataParams = {\n  page: number;        // Current page number (starts at 1)\n  limit: number;       // Number of items per page\n  searchTerm: string;  // Current search term\n};\n"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(i.A,{color:"blue",children:"Note"})," The component automatically handles loading states, debouncing, and error handling for async operations."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.h3,{id:"basic-async-search",children:"Basic Async Search"}),"\n",(0,r.jsxs)(t.p,{children:["Provide ",(0,r.jsx)(t.code,{children:"getData"}),", ",(0,r.jsx)(t.code,{children:"extractDynamicData"}),", and ",(0,r.jsx)(t.code,{children:"hasMore"})," to handle fetching and pagination. The component manages the loading state and search term."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'import { AsyncSelect } from "@kousta-ui/components";\n\n// Mock API call\nconst searchUsers = ({ page, limit, searchTerm }) => {\n  return fetch(`/api/users?page=${page}&limit=${limit}&q=${searchTerm || ""}`)\n    .then((r) => r.json());\n};\n\n<AsyncSelect\n  label="Search Users"\n  getData={searchUsers}\n  extractDynamicData={(response) => response.items}\n  hasMore={(response, page) => page < response.totalPages}\n  options={{ value: "id", label: "name" }}\n  placeholder="Type to search users..."\n/>\n'})}),"\n",(0,r.jsx)(t.h3,{id:"preview",children:"Preview"}),"\n",(0,r.jsx)(d,{}),"\n",(0,r.jsx)(t.h3,{id:"with-custom-option-rendering",children:"With Custom Option Rendering"}),"\n",(0,r.jsxs)(t.p,{children:["Just like the ",(0,r.jsx)(t.code,{children:"Select"})," component, you can provide a custom ",(0,r.jsx)(t.code,{children:"renderOption"})," function to display rich content in the dropdown."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'<AsyncSelect\n  label="Assign to User"\n  getData={searchUsers}\n  extractDynamicData={(response) => response.users}\n  hasMore={(response, page) => response.hasNextPage}\n  options={{\n    value: "id",\n    label: "name",\n    renderOption: (user) => (\n      <div style={{ display: "flex", alignItems: "center", gap: "8px" }}>\n        <img src={user.avatar} alt={user.name} style={{ width: 24, height: 24, borderRadius: "50%" }} />\n        <div>\n          <div style={{ fontWeight: "bold" }}>{user.name}</div>\n          <div style={{ fontSize: "12px", color: "#666" }}>{user.email}</div>\n        </div>\n      </div>\n    )\n  }}\n  placeholder="Search users by name or email..."\n/>\n'})}),"\n",(0,r.jsx)(t.h3,{id:"preview-1",children:"Preview"}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"styles--customization",children:"Styles & customization"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"AsyncSelect"})," component uses the same styling as the ",(0,r.jsx)(t.code,{children:"Select"})," component."]}),"\n",(0,r.jsx)(t.h3,{id:"runtime-classes",children:"Runtime classes"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"kui-select-container"})}),": The main wrapper for the label, select, and error message."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"kui-select-inner"})}),": The clickable input area."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"kui-select-dropdown"})}),": The dropdown container that holds the options."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"kui-select-option"})}),": An individual option item in the dropdown."]}),"\n",(0,r.jsxs)(t.li,{children:["...and all other classes from the ",(0,r.jsx)(t.code,{children:"Select"})," component."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"tokens-used-by-the-default-styles",children:"Tokens used by the default styles"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Colors"}),": ",(0,r.jsx)(t.code,{children:"--kui-neutral-*"}),", ",(0,r.jsx)(t.code,{children:"--kui-primary-*"}),", ",(0,r.jsx)(t.code,{children:"--kui-danger-*"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Spacing"}),": ",(0,r.jsx)(t.code,{children:"--kui-spacing-2xs"}),", ",(0,r.jsx)(t.code,{children:"--kui-spacing-xs"}),", ",(0,r.jsx)(t.code,{children:"--kui-spacing-sm"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Typography"}),": ",(0,r.jsx)(t.code,{children:"--kui-text-base"}),", ",(0,r.jsx)(t.code,{children:"--kui-text-sm"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Rounding"}),": ",(0,r.jsx)(t.code,{children:"--kui-rounded"})]}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"types-reference",children:"Types (reference)"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:'import { SelectProps, SelectDataConstraints } from "./Select";\n\ntype GetDataParams = {\n  page: number;\n  limit: number;\n  searchTerm: string;\n};\n\nexport type AsyncSelectProps<T extends SelectDataConstraints> = {\n  getData: (params: GetDataParams) => Promise<any>;\n  extractDynamicData: (response: any) => T[];\n  hasMore: (response: any, page: number) => boolean;\n  debounceMs?: number;\n} & Omit<SelectProps<T>, "data" | "onSearch">;\n'})})]})}function b(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}},7447(e,t,n){n.d(t,{A:()=>r});n(3696);var s=n(2540);function r({children:e,color:t="warning"}){return(0,s.jsx)("span",{className:`badge badge-${t}`,children:e})}},7819(e,t,n){n.d(t,{$n:()=>y,DW:()=>de,JU:()=>z,Rt:()=>ne,W1:()=>T,YJ:()=>J,ZS:()=>G,aF:()=>ke,hR:()=>g,l6:()=>ue,pd:()=>Z,tH:()=>oe,tz:()=>h});var s=n(2540),r=n(3696);function o(e,t="18px"){return e&&"string"!=typeof e&&"number"!=typeof e&&!0!==e&&(0,r.cloneElement)(e,{style:{fontSize:t}})}var i={OuicontextMenu:"OuicontextMenu_FSq47","OuicontextMenu-Item":"OuicontextMenu-Item_363h1","OuicontextMenu-ItemIcon":"OuicontextMenu-ItemIcon_jjIa-",OuicontextMenu_separator_container:"OuicontextMenu_separator_container_DT-oU",OuicontextMenu_separator:"OuicontextMenu_separator_zV0Pa",OuicontextMenu_separator_icon:"OuicontextMenu_separator_icon_9M2It",OuicontextMenu_group_title:"OuicontextMenu_group_title_m88xW"};const l=()=>(0,s.jsxs)("div",{className:`${i.OuicontextMenu_separator_container} kui-contextmenu-separator-container`,children:[(0,s.jsx)("div",{className:`${i.OuicontextMenu_separator_icon} kui-contextmenu-separator-icon`}),(0,s.jsx)("div",{className:`${i.OuicontextMenu_separator} kui-contextmenu-separator`})]}),a=({title:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l,{}),(0,s.jsxs)("div",{className:`${i.OuicontextMenu_separator_container} kui-contextmenu-group-container`,children:[(0,s.jsx)("div",{className:`${i.OuicontextMenu_separator_icon} kui-contextmenu-separator-icon`}),(0,s.jsx)("span",{className:`${i.OuicontextMenu_group_title} kui-contextmenu-group-title`,children:e})]})]}),c=e=>{const{icon:t,onClick:n,title:r,setMenuVisible:c,active:d=!0,hidden:u,closeOnClick:h=!0,itemCloseOnClick:p=!0,onClose:m}=e;if(!u)return e.optionType&&"Separator"===e.optionType?(0,s.jsx)(l,{}):e.optionType&&"Group"===e.optionType?(0,s.jsx)(a,{title:e.groupTitle}):(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),n?.(),(!1!==p&&!0===h||!0===h)&&(c(!1),m?.())},className:`${i["OuicontextMenu-Item"]} kui-contextmenu-item ${d?"":"kui-disabled"}`,disabled:!d,children:[(0,s.jsx)("div",{className:`${i["OuicontextMenu-ItemIcon"]} kui-contextmenu-item-icon`,children:o(t)}),r]})},d=({icon:e,title:t,setMenuVisible:n,active:a=!0,subOptions:u,offsetX:h,offsetY:p,itemCloseOnClick:m})=>{const x=(0,r.useRef)(null),[g,b]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&b(!1)};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:i.OuiiconsContainer}),(0,s.jsxs)("button",{ref:x,onClick:e=>{e.stopPropagation(),a&&b(!0)},className:i["OuicontextMenu-Item"],disabled:!a,children:[(0,s.jsx)("div",{className:i["OuicontextMenu-ItemIcon"],children:o(e)}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px",width:"100%"},children:[t,(0,s.jsx)("span",{children:">"})]}),g&&(0,s.jsx)("div",{className:`${i.OuicontextMenu} ${i["OuicontextMenu-Item_WithSubs"]}`,style:{left:h?"unset":"100%",right:h?"100%":"unset",top:p?"unset":0,bottom:p?0:"unset",transform:`translateX(${4*(h?-1:1)}px)`},children:u?.map((e,t)=>"Separator"===e.optionType?(0,s.jsx)(l,{}):"Group"===e.optionType?"Group":"option"===e.optionType||void 0===e.optionType&&e.subOptions?(0,s.jsx)(d,{...e,setMenuVisible:n,offsetX:h,offsetY:p,itemCloseOnClick:m},t):(0,s.jsx)(c,{...e,setMenuVisible:n,offsetX:h,offsetY:p,itemCloseOnClick:m},t))})]})]})},u=(0,r.forwardRef)(({x:e,y:t,options:n,setMenuVisible:o,offsetX:l,offsetY:a,itemCloseOnClick:u,onClose:h},p)=>(0,s.jsxs)("div",{style:{top:t-a+"px",left:e-l+"px"},className:`${i.OuicontextMenu} kui-contextmenu`,ref:p,children:[(0,s.jsx)("div",{className:`${i.OuiiconsContainer} kui-contextmenu-icons`}),n.map((e,t)=>"option"!==e.optionType&&void 0!==e.optionType||!e.subOptions?(0,r.createElement)(c,{...e,key:t,setMenuVisible:o,offsetX:l,offsetY:a,itemCloseOnClick:u,onClose:h}):(0,r.createElement)(d,{...e,key:t,offsetX:l,offsetY:a,setMenuVisible:o,itemCloseOnClick:u}))]})),h=({children:e,onClose:t,onOpen:n,options:o,disabled:i=!1,As:l="div",itemCloseOnClick:a=!0,...c})=>{const[d,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)({x:0,y:0}),[x,g]=(0,r.useState)(0),[b,f]=(0,r.useState)(0),v=(0,r.useRef)(null);(0,r.useLayoutEffect)(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&(t?.(),h(!1))},[n,s,r,o]=[v.current?.clientHeight,v.current?.clientWidth,Math.max(document.body.clientHeight,screen.availHeight),document.body.clientWidth];return(n||0)+p.y>r?(m(e=>({...e,y:e.y})),f(n)):f(0),(s||0)+p.x>o?(m(e=>({...e,x:e.x})),g(s)):g(0),document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d,t,p.y,p.x]);return(0,s.jsxs)(l,{...c,onContextMenu:e=>{i||(e.preventDefault(),m({x:e.pageX,y:e.pageY}),h(!0),n?.())},children:[e,(0,s.jsx)("div",{className:"OuicontextMenu-Container kui-contextmenu-container",children:d&&o.length>0&&(0,s.jsx)(u,{ref:v,x:p.x,y:p.y,offsetY:b,offsetX:x,options:o,setMenuVisible:h,itemCloseOnClick:a,onClose:t})})]})};var p={btn:"btn_ZW5Ev","btn-sm":"btn-sm_5aNK6 btn_ZW5Ev","btn-md":"btn-md_QYFgg btn_ZW5Ev","btn-lg":"btn-lg_wGoCj btn_ZW5Ev","btn-primary":"btn-primary_nj2mO","btn-primary-outline":"btn-primary-outline_CwoxP","btn-primary-light":"btn-primary-light_c5-oQ","btn-primary-link":"btn-primary-link_q3lUV","btn-success":"btn-success_gVtb9","btn-success-outline":"btn-success-outline_JU2tm","btn-success-light":"btn-success-light_gvC01","btn-success-link":"btn-success-link_q1Q2T","btn-danger":"btn-danger_RcY68","btn-danger-outline":"btn-danger-outline_FS3R0","btn-danger-light":"btn-danger-light_1c0JI","btn-danger-link":"btn-danger-link_mzjxL","btn-neutral":"btn-neutral_XGnnH","btn-neutral-outline":"btn-neutral-outline_TqUoc","btn-neutral-light":"btn-neutral-light_qGfsp","btn-neutral-link":"btn-neutral-link_OgQ1j","btn-warning":"btn-warning_Yfoxn","btn-warning-outline":"btn-warning-outline_p5Amw","btn-warning-light":"btn-warning-light_IQXjt","btn-warning-link":"btn-warning-link_iyd6o"};const m=(0,r.createContext)({});function x(e){const t=(0,r.useContext)(m);if(t)return e?t[e]:t}const g=({children:e,...t})=>(0,s.jsx)(m.Provider,{value:t,children:e}),b="md",f="primary",v="button",j="Loading...",y=({children:e,disabled:t,loading:n,onClick:r,className:o,type:i,size:l,variant:a,...c})=>{const d=x("button");let u="";return d&&(d.size&&!l&&(l=d.size),d.type&&!i&&(i=d.type),d.variant&&!a&&(a=d.variant),d.style&&(c.style={...d.style,...c.style}),d.loadingIndicator&&!c.loadingIndicator&&(c.loadingIndicator=d.loadingIndicator),u=`${d.className||""}`,d.variants&&a&&d.variants[a]&&(c={...d.variants[a],...c,style:{...d.variants[a].style,...c.style}})),u=u+` ${p[`btn-${a||f}`]} ${p[`btn-${l||b}`]} `+o+` kui-button kui-button-${a||f} kui-button-${l||b}`,(0,s.jsx)("button",{...c,role:"button",className:u,"data-loading":n,disabled:t||n,onClick:e=>r?.(e),type:i||v,children:n?(0,s.jsx)("div",{className:"kui-button-loading",children:c.loadingIndicator||j}):e})},k=(0,r.createContext)(null),w=()=>(0,r.useContext)(k),C=({children:e,...t})=>(0,s.jsx)(k.Provider,{value:t,children:e});var E="menu_-Dayv",_="menu_target_sng2B",O="menu_dropdown_4dVSl",$="menu_item_8X2iq",S="menu_label_ZisKX",N="menu_divider_LXTZ2";const I="click",R=!0,M="Bottom-Start",D=4;var T={Menu:({children:e,type:t,closeOnClick:n,position:o,offset:i,...l})=>{const a=x("menu");if(a&&a.menu){const{menu:e}=a;e.type&&!t&&(t=e.type),e.offset&&!i&&(i=e.offset),e.position&&!o&&(o=e.position),e.closeOnClick&&void 0===n&&(n=e.closeOnClick)}t||(t=I),o||(o=M),i||(i=D),void 0===n&&(n=R);const c=(0,r.useRef)(null),[d,u]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsx)(C,{...l,opened:d,open:()=>u(!0),close:()=>u(!1),toggle:()=>u(e=>!e),type:t,closeOnClick:n,position:o,offset:i,children:(0,s.jsx)("div",{ref:c,onMouseEnter:()=>{"click"!==t&&u(!0)},onMouseLeave:()=>{"click"!==t&&u(!1)},className:`${E} kui-menu`,children:e})})},Target:({children:e})=>{const{toggle:t,type:n}=w();return(0,s.jsx)("div",{onClick:()=>{"hover"!==n&&t()},className:`${_} kui-menu-target`,children:e})},DropDown:({children:e})=>{const{opened:t,position:n,offset:r}=w();return t?(0,s.jsx)("div",{role:"menu",style:(o=r,{"Bottom-Center":{top:`calc(100% + ${o}px)`,left:"50%",transform:"translateX(-50%)"},"Bottom-Start":{top:`calc(100% + ${o}px)`,left:"0"},"Bottom-End":{top:`calc(100% + ${o}px)`,right:"0"},"Left-Center":{right:`calc(100% + ${o}px)`,top:"50%",transform:"translateY(-50%)"},"Left-Start":{right:`calc(100% + ${o}px)`,top:"0"},"Left-End":{right:`calc(100% + ${o}px)`,bottom:"0"},"Right-Center":{top:"50%",left:`calc(100% + ${o}px)`,transform:"translateY(-50%)"},"Right-Start":{top:"0",left:`calc(100% + ${o}px)`},"Right-End":{left:`calc(100% + ${o}px)`,bottom:"0"},"Top-Center":{bottom:`calc(100% + ${o}px)`,left:"50%",transform:"translateX(-50%)"},"Top-Start":{bottom:`calc(100% + ${o}px)`,left:"0"},"Top-End":{bottom:`calc(100% + ${o}px)`,right:"0"}})[n],className:`${O} kui-menu-dropdown`,children:e}):null;var o},Item:({children:e,closeMenuOnClick:t,leftSection:n,rightSection:r,disabled:o,onClick:i})=>{const l=x("menu");if(l&&l.menuItem){const{menuItem:e}=l;e.closeMenuOnClick&&void 0===t&&(t=e.closeMenuOnClick)}const{close:a,closeOnClick:c}=w(),d=!0===(t??c);return(0,s.jsxs)("button",{disabled:o,role:"menuitem",onClick:()=>{i?.(),d&&a()},className:`${$} kui-menu-item ${o?"kui-disabled":""}`,children:[n&&n,e,r&&r]})},Label:({children:e,leftSection:t,rightSection:n})=>(0,s.jsxs)("span",{className:`${S} kui-menu-label`,children:[t&&t,e,n&&n]}),Divider:()=>(0,s.jsx)("hr",{className:`${N} kui-menu-divider`})};function P(e,t){return{...e||{},...t}}function L(e,t){return(0,r.isValidElement)(e)?(0,r.cloneElement)(e,{style:P(e.props.style,{..."column"===t?{borderBottomLeftRadius:0,borderBottomRightRadius:0}:{borderTopRightRadius:0,borderBottomRightRadius:0}})}):e}function A(e,t){return(0,r.isValidElement)(e)?(0,r.cloneElement)(e,{style:P(e.props.style,{..."column"===t?{borderTopLeftRadius:0,borderTopRightRadius:0}:{borderTopLeftRadius:0,borderBottomLeftRadius:0}})}):e}function B(e,t,n,s){return(0,r.isValidElement)(e)?(0,r.cloneElement)(e,{key:s,style:P(e.props.style,{...t?.left&&("column"===n?{borderBottomLeftRadius:0,borderBottomRightRadius:0}:{borderTopLeftRadius:0,borderBottomLeftRadius:0}),...t?.right&&("column"===n?{borderTopLeftRadius:0,borderTopRightRadius:0}:{borderTopRightRadius:0,borderBottomRightRadius:0})})}):e}var V="input-container_b9dxl",W="input-inner_FDBqz",X="input_aRXjR",q="error-message_q60fT",F="label_jvxMB";const z=({children:e,required:t,errors:n,contextualClass:r,...o})=>(0,s.jsx)("label",{"data-required":e&&String(t),"data-error":Array.isArray(n)&&n.length>0?"true":"false",className:`${F} kui-label ${r||""}`,htmlFor:e,...o,children:e});var Y="formElement_oSOLw";function U(e="y"){switch(e){case"x":return{flexDirection:"row",alignItems:"center"};case"y":return{flexDirection:"column",alignItems:"start"}}}const G=({children:e,labelPosition:t})=>(0,s.jsx)("div",{className:`${Y} kui-form-element`,style:U(t),children:e});var H="group_xz-zw";const J=({children:e,direction:t,gap:n,...o})=>{const i=[];if(Array.isArray(e))if(1===e.length)(0,r.isValidElement)(e[0])?i.push((0,r.cloneElement)(e[0],{key:0})):i.push(e[0]);else if(2===e.length){const n=L(e[0],t);(0,r.isValidElement)(n)?i.push((0,r.cloneElement)(n,{key:0})):i.push(n);const s=A(e[1],t);(0,r.isValidElement)(s)?i.push((0,r.cloneElement)(s,{key:1})):i.push(s)}else{const n=L(e[0],t);(0,r.isValidElement)(n)?i.push((0,r.cloneElement)(n,{key:0})):i.push(n);for(let l=1;l<e.length-1;l++){const n=B(e[l],{left:e[0],right:e[e.length-1]},t,l);(0,r.isValidElement)(n)?i.push((0,r.cloneElement)(n,{key:l})):i.push(n)}const s=e.length-1,o=A(e[s],t);(0,r.isValidElement)(o)?i.push((0,r.cloneElement)(o,{key:s})):i.push(o)}else i.push(e);return(0,s.jsx)("div",{style:{gap:n,flexDirection:t,...o.style},...o,className:`${H} kui-group`,role:"group",children:i})},Z=({label:e,errors:t,required:n,leftSection:r,rightSection:o,labelProps:i,labelPosition:l="y",...a})=>(0,s.jsxs)("div",{className:`${V} kui-input-container`,children:[(0,s.jsxs)(G,{labelPosition:l,children:[e&&(0,s.jsx)(z,{...i,required:n,errors:t,contextualClass:"kui-input-label",children:e}),(0,s.jsx)("div",{className:`${W} kui-input-inner`,children:(0,s.jsxs)(J,{style:{width:"100%"},children:[r,B((0,s.jsx)("input",{"data-error":Array.isArray(t)&&t.length>0?"true":"false",className:`${X} kui-input`,id:e,pattern:{number:"^[0-9]+$"}[a.type],...a}),{left:r,right:o}),o]})})]}),t&&(0,s.jsx)("span",{className:`${q} kui-input-error-message`,children:t?.[0]})]});function Q(e){return["{","}","(",")","[","]","-","_","/","|"," "].includes(e)}function K(e,t){let n="",s="",r=e;for(let o=0;o<t.length;o++){const i=t[o];Q(i)?(0!==s.trim().length&&"-"!==i&&"_"!==i&&(n+=r[s],s="",r=e),"-"!==i&&"_"!==i||!/\w/i.test(i)?n+=i:s+=i):"."===i&&s?(r=r[s],s=""):s+=i}return s&&(n?n+=r[s]:n=r[s]),n}var ee={"select-container":"select-container_6McNi",disabled:"disabled_k7m4I","highlighted-option":"highlighted-option_B1sJB","select-dropdown":"select-dropdown_GyWHs","select-option":"select-option_9dxlY","select-option-fallback":"select-option-fallback_5h299","select-empty-message":"select-empty-message_bIS56","select-outer":"select-outer_5RZtA","select-inner":"select-inner_aXAWI",error:"error_P2c-V","select-input":"select-input_W09D5","clear-select":"clear-select_R-pnc","select-toggle":"select-toggle_EOx-j","select-placeholder":"select-placeholder_7aVq-","select-value":"select-value_XVosT","select-error-message":"select-error-message_mrpNs","error-message":"error-message_i1Hij","select-loading-indicator":"select-loading-indicator_oqDsd"};const te=(e,t)=>t?t.renderOption&&"function"==typeof t.renderOption?t.renderOption(e):t.label?K(e,t.label):void 0:"",ne=({onItemEnter:e,onItemExit:t,onceItemEnter:n,onceItemExit:o,children:i,root:l,threshold:a=0,As:c="div"})=>{const d=(0,r.useRef)(null),u=(0,r.useRef)({onceItemEnter:n,onceItemExit:o});(0,r.useEffect)(()=>{u.current.onceItemEnter=n,u.current.onceItemExit=o},[n,o]),(0,r.useEffect)(()=>{const n=void 0===l?document.body:l,s=new IntersectionObserver(([n])=>{n.isIntersecting?(e?.(d.current),u.current.onceItemEnter&&(u.current.onceItemEnter(d.current),u.current.onceItemEnter=void 0)):(t?.(d.current),u.current.onceItemExit&&(u.current.onceItemExit(d.current),u.current.onceItemExit=void 0))},{root:n,threshold:a});return d.current&&s.observe(d.current),()=>{d.current&&s.unobserve(d.current)}},[l,a,e,t]);const h=c;return(0,s.jsx)(h,{ref:d,children:i})},se=({row:e,options:t,onSelectValue:n,value:o,isHighlighted:i,highlightOption:l,disabledOption:a,onLastItemRendered:c,dropdownRef:d})=>{const u=(0,r.useRef)(null),h=a?.(e)??!1;(0,r.useEffect)(()=>{i&&u.current&&u.current.scrollIntoView({behavior:"auto",block:"nearest"})},[i]);const p=K(e,t?.value),m=o===p;return(0,s.jsx)(ne,{onceItemEnter:c,root:d?.current??void 0,threshold:.5,children:(0,s.jsx)("div",{ref:u,role:"option",onMouseEnter:l,className:[ee["select-option"],i?ee["highlighted-option"]:"","kui-select-option "+(i?"kui-select-option-highlighted":"")].join(" "),"data-selected":m,"data-disabled":h,onClick:()=>{h||(l(),n(p))},children:te(e,t)})})};var re="error-text_Oxnlg";class oe extends r.Component{state={hasError:!1,error:void 0,loading:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e){const t=this.props.onError;if(t&&"function"==typeof t&&t(e),this.props.throwOnError)throw e}render(){const e=this.props.fallback;return this.state.hasError?e&&(0,r.isValidElement)(e)?e:(0,s.jsx)("h3",{className:`${re} kui-error-boundary-text`,children:"An Error Has Ocured"}):this.props.children}}const ie=({data:e,emptyMessage:t="No option found",closeOnClickOutside:n,disabledOption:o,options:i,onSelectValue:l,extraOptionsLoading:a,value:c,onLastItemRendered:d,disableErrorBoundaries:u,optionErrorFallback:h})=>{const p=(0,r.useRef)(null),[m,x]=(0,r.useState)(()=>{if(c){return e.findIndex(e=>c===K(e,i?.value))}return 0}),g=(0,r.useCallback)(t=>{t>=e.length&&(t=0);const n=e[t];return o&&o(n)?g(t+1):t},[m,e]),b=(0,r.useCallback)(t=>{t<0&&(t=e.length-1);const n=e[t];return o&&o(n)?b(t-1):t},[m,e]);(0,r.useEffect)(()=>{document.addEventListener("mousedown",n),document.addEventListener("touchstart",n,!0);const e=e=>{"Escape"===e.key&&n(),"ArrowDown"===e.key&&(x(e=>g(e+1)),e.preventDefault()),"ArrowUp"===e.key&&(x(e=>b(e-1)),e.preventDefault())};return document.addEventListener("keydown",e),()=>{window.removeEventListener("mousedown",n),window.removeEventListener("touchstart",n),document.removeEventListener("keydown",e)}},[e]),(0,r.useEffect)(()=>{const t=t=>{if("Enter"===t.key){const t=K(e[m],i?.value);l(t)}};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[m]);const f=(0,r.useCallback)(e=>{x(e)},[]);return(0,s.jsx)("div",{ref:p,className:`${ee["select-dropdown"]} kui-select-dropdown`,children:0!==e.length||a?(0,s.jsxs)(s.Fragment,{children:[e.map((t,n)=>(0,s.jsx)(oe,{throwOnError:u,fallback:h?(0,s.jsx)("div",{className:ee["select-option"],children:h({row:t})}):(0,s.jsx)("div",{className:[ee["select-option"],ee["select-option-fallback"]].join(" "),children:"Error Ocured while rendering option"}),children:(0,s.jsx)(se,{index:n,dataLength:e.length,dropdownRef:p,row:t,isHighlighted:n===m,options:i,onSelectValue:l,value:c,highlightOption:()=>f(n),disabledOption:o,onLastItemRendered:n===e.length-1?d:void 0})},K(t,i?.value))),a&&(0,s.jsx)(se,{dropdownRef:p,row:{label:"Loading...",value:""},highlightOption:()=>{},isHighlighted:!1,options:{value:"value",label:"label"},onSelectValue:l,value:c,disabledOption:()=>!0})]}):(0,s.jsx)("div",{className:`${ee["select-empty-message"]} kui-select-empty-message`,"data-disabled":"true",children:t})})},le=(0,r.forwardRef)(({search:e,isSearching:t,placeholder:n},r)=>(0,s.jsx)("input",{ref:r,className:`${ee["select-input"]} kui-select-input`,style:t?{display:"block"}:{display:"none"},placeholder:n,onChange:t=>{e(t.target.value)},onKeyDown:e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key&&"Enter"!==e.key||e.preventDefault()}})),ae=()=>(0,s.jsxs)("div",{className:ee["select-loading-indicator"],children:[(0,s.jsx)("span",{children:"."}),(0,s.jsx)("span",{children:"."}),(0,s.jsx)("span",{children:"."})]}),ce=({label:e,labelProps:t,errors:n,required:o,labelPosition:i,data:l,options:a,clearable:c,emptyMessage:d,seachable:u,disabled:h,onChange:p,disabledOption:m,onSearch:g,loading:b,asyncSearch:f,onLastItemRendered:v,isMultiple:j,placeholder:y,rawValue:k,extraOptionsLoading:w,onBlur:C,disableErrorBoundaries:E,optionErrorFallback:_,selectErrorFallback:O,icons:$,...S})=>{const N=x("select");N?(void 0===c&&(c=void 0===N.clearable||N.clearable),N.emptyMessage&&!d&&(d=N.emptyMessage),N.rawValue&&void 0===k&&(k=N.rawValue),N.labelPosition&&!i&&(i=N.labelPosition),N.labelProps&&(t={...N.labelProps,...t}),a||(a=N.options?N.options:{value:"value",label:"label"}),!_&&N.optionErrorFallback&&(_=N.optionErrorFallback),O||(O=N.selectErrorFallback),N.icons&&($=$?{...N.icons,...$}:N.icons),void 0===u&&(u=void 0===N.seachable||N.seachable),N.required&&void 0===o&&(o=N.required),N.disableErrorBoundaries&&void 0===E&&(E=N.disableErrorBoundaries)):(a||(a={value:"value",label:"label"}),$||($={}));const I=(0,r.useRef)(null),[R,M]=(0,r.useState)(!1),[D,T]=(0,r.useState)(l),[P,L]=(0,r.useState)(S.value),A=(0,r.useRef)(null),B=(0,r.useRef)(null),[V,W]=(0,r.useState)(!1),X=(0,r.useCallback)(()=>{h||b||W(!V)},[V,h,b]),q=(0,r.useCallback)(()=>{W(!1),T(l),M(!1),A.current&&C?.({...A.current,clear(){L(null)}}),I.current&&(I.current.value="")},[l,C]),F=(0,r.useCallback)(e=>{e&&A.current&&A.current.contains(e.target)||q()},[l]),Y=(0,r.useCallback)(e=>{L(e),p?.(k?l.find(t=>K(t,a?.value)===e):e),j||q(),I.current&&j&&(I.current.value="")},[l,q,j,p]),U=(0,r.useMemo)(()=>l.find(e=>K(e,a?.value)===P),[P,l]),H=(0,r.useMemo)(()=>U?K(U,a?.label):"",[U]),J=(0,r.useCallback)(e=>{if(f&&"function"==typeof f)f(e);else if(a?.label||g&&"function"==typeof g){const t=new RegExp(e,"i");if(e&&""===e.trim())T(l);else{const n=l.filter(n=>{if(g&&"function"==typeof g)return g(n,e);if(a&&a.label){return t.test(K(n,a.label))}return t.test(K(n,"label"))});T(n)}}},[l]);return(0,r.useEffect)(()=>{T(l)},[l]),(0,s.jsxs)("div",{className:`${ee["select-container"]}${h?" disabled":""} kui-select-container`,children:[(0,s.jsxs)(G,{labelPosition:i,children:[e&&(0,s.jsx)(z,{errors:n,required:o,contextualClass:"kui-select-label",...t,onClick:()=>{B.current?.focus(),X()},children:e}),(0,s.jsxs)("div",{ref:A,className:`${ee["select-outer"]} kui-select-outer`,children:[(0,s.jsxs)("div",{className:`\n              ${ee["select-inner"]}\n              ${(h||b)&&ee.disabled}\n              ${n&&ee.error}\n              kui-select-inner ${h&&"kui-disabled"} ${n&&"kui-error"}\n            `,ref:B,tabIndex:h||b?-1:0,onBlur:e=>{F(e)},onKeyDown:e=>{if(/^\w$/i.test(e.key)){if(!u)return;I.current&&!R&&(V||X(),I.current.value=I.current.value+e.key,J(I.current.value),e.stopPropagation(),e.preventDefault()),M(!0),I.current?.focus()}"ArrowDown"!==e.key&&"ArrowUp"!==e.key||V||(X(),e.stopPropagation(),e.preventDefault()),"Enter"===e.key&&e.preventDefault()},onClick:()=>{X()},children:[(0,s.jsx)(le,{search:J,ref:I,isSearching:R,placeholder:y}),!R&&(0,s.jsx)("span",{className:`${ee["select-value"]} kui-select-value`,children:!U&&y?(0,s.jsx)("span",{className:ee["select-placeholder"],children:y}):a?.renderOption&&"function"==typeof a?.renderOption&&U?a.renderOption(U):H}),b?$?.loading?(0,s.jsx)("div",{className:ee["select-loading-indicator"],children:$.loading}):(0,s.jsx)(ae,{}):c&&U&&(0,s.jsx)("button",{className:`\n                  ${ee["clear-select"]}\n                  ${n&&ee.error}\n                  ${h&&ee.disabled}\n                  kui-select-clear ${n&&"kui-error"} ${h&&"kui-disabled"}\n                `,onClick:e=>{L(void 0),e.stopPropagation()},children:$?.clear?$.clear:"X"}),(0,s.jsx)("button",{className:`\n                ${ee["select-toggle"]}\n                ${V&&ee.open}\n                ${h&&ee.disabled}\n                kui-select-toggle ${V&&"kui-open"} ${h&&"kui-disabled"}\n              `,tabIndex:-1,onClick:e=>{V?q():X(),e.stopPropagation()},children:V?$?.open?$.open:"V":$?.close?$.close:"V"})]}),V&&(0,s.jsx)(ie,{data:D,options:a,emptyMessage:d,closeOnClickOutside:F,onSelectValue:Y,value:P,disabledOption:m,extraOptionsLoading:Boolean(w),onLastItemRendered:v,disableErrorBoundaries:E,optionErrorFallback:_},l.length)]})]}),n&&(0,s.jsx)("div",{className:ee["select-error-message"],children:"string"==typeof n?(0,s.jsx)("p",{className:ee["error-message"],children:n}):Array.isArray(n)?n.map((e,t)=>(0,s.jsx)("p",{className:ee["error-message"],children:e},t)):""})]})};const de=({getData:e,extractDynamicData:t,limit:n=50,hasMore:o,searchTimeout:i=500,...l})=>{const a=(0,r.useRef)(!1),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(1),[p,m]=(0,r.useState)([]),[x,g]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!0),v=(0,r.useCallback)(()=>{b&&!a.current&&(a.current=!0,g(!0),e({limit:n,page:u,searchTerm:c}).then(e=>{const n=t?t(e):e;m(e=>[...e,...n]),o&&f(o(e,u)),h(e=>e+1)}).catch(console.error).finally(()=>{a.current=!1,g(!1)}))},[n,u,c,b]);(0,r.useEffect)(()=>{v()},[]);const j=function(e,t){const n=(0,r.useRef)(e),s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n.current=e}),(0,r.useCallback)((...e)=>{s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{n.current(...e)},t)},[t])}(()=>{m([]),v()},i);return(0,s.jsx)(ce,{data:p,loading:x,extraOptionsLoading:x&&u>1,...l,onLastItemRendered:v,asyncSearch:e=>(d(e||""),h(1),f(!0),j())})},ue=e=>(0,s.jsx)(ce,{...e});var he={"modal-container":"modal-container_a9s1p","modal-header":"modal-header_gKQjC","modal-body":"modal-body_QBFX2",backdrop:"backdrop_79rcb"};const pe=e=>({center:{marginInline:"auto",top:"50%",right:"50%",transform:"translateY(-50%) translateX(50%)"},bottom:{bottom:`${e}px`,top:"unset",right:"50%",transform:"translateX(50%)"},top:{bottom:"unset",top:`${e}px`,right:"50%",transform:"translateX(50%)"},right:{marginInline:"unset",marginInlineStart:"auto",top:"50%",transform:"translateY(-50%)",left:"unset",right:`${e}px`},"right-top":{marginInlineStart:"auto",top:`${e}px`,left:"unset",right:`${e}px`},"right-bottom":{marginInlineStart:"auto",bottom:`${e}px`,top:"unset",left:"unset",right:`${e}px`},left:{marginInline:"unset",top:"50%",transform:"translateY(-50%)",right:"unset",left:`${e}px`},"left-bottom":{marginInline:"unset",bottom:`${e}px`,top:"unset",right:"unset",left:`${e}px`},"left-top":{marginInline:"unset",top:`${e}px`,right:"unset",left:`${e}px`}}),me={xs:"600px",sm:"850px",md:"1250px",lg:"1440px",xl:"1800px"},xe="md",ge=!0,be=!0,fe="center",ve=0,je=!0,ye=!0,ke=({children:e,title:t,opened:n,onClose:o,size:i,withCloseBtn:l,withBackdrop:a,modalTrigger:c,afterClose:d,beforeClose:u,afterOpen:h,beforeOpen:p,position:m,offset:g,fullHeight:b,fullWidth:f,closeOnClickEsc:v,closeOnClickOutside:j,modalTriggerBtnVariant:k})=>{const w=x("modal");w&&(w.position&&!m&&(m=w.position),w.size&&!i&&(i=w.size),w.offset&&void 0===g&&(g=w.offset),void 0!==w.closeOnClickEsc&&void 0===v&&(v=w.closeOnClickEsc),void 0!==w.closeOnClickOutside&&void 0===j&&(j=w.closeOnClickOutside),void 0!==w.withCloseBtn&&void 0===l&&(l=w.withCloseBtn),void 0!==w.withBackdrop&&void 0===a&&(a=w.withBackdrop)),i||(i=xe),void 0===l&&(l=ge),void 0===a&&(a=be),m||(m=fe),g||(g=ve),void 0===v&&(v=je),void 0===j&&(j=ye);const{lockScroll:C,unlockScroll:E}={lockScroll:(0,r.useCallback)(()=>{const e=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${e}px`},[]),unlockScroll:(0,r.useCallback)(()=>{document.body.style.overflow=""},[])},_=(0,r.useRef)(null),O="boolean"==typeof n,[$,S]=(0,r.useState)(!!n),N=O&&n||$,I=i&&i in me?me[i]:`${i}px`,R=(0,r.useCallback)(()=>{p&&!1===p()||(O||(S(!0),h?.()),C())},[p,h,O]),M=(0,r.useCallback)(()=>{u&&!1===u()||(O?(o?.(),S(!1)):_.current&&(S(!1),d?.()),E())},[u,n,d,O,o]);return(0,r.useEffect)(()=>(O&&n&&C(),()=>E()),[n]),(0,r.useEffect)(()=>{_.current&&(N?(S(!0),C(),h?.()):(S(!1),E(),d?.()))},[h,d]),(0,r.useEffect)(()=>{const e=e=>{if(!1===j)return;const t=_.current;if(!t)return;const n=e.target;if(n&&t.contains(n))return;const s=e.composedPath?.();s&&s.some(e=>e instanceof Node&&t.contains(e))||M()};document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0);const t=e=>{!1!==v&&"Escape"===e.key&&M()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("keydown",t)}},[$,n,M]),(0,s.jsxs)(s.Fragment,{children:[!O&&c&&(0,s.jsx)(y,{variant:k,onClick:R,children:c}),a&&(O&&n||$)&&(0,s.jsx)("div",{className:`${he.backdrop} kui-modal-backdrop`}),(O&&n||$)&&(0,s.jsxs)("div",{"data-testid":"dialog-modal",role:"modal",ref:_,style:{animation:"toLeft 5s toLeft",width:f?`calc(100vw - ${2*(g||0)}px)`:`clamp(200px, ${I}, calc(100% - ${g}px))`,height:b?`calc(100vh - ${2*(g||0)}px)`:"max-content",...pe(g)[m]},className:`${he["modal-container"]} kui-modal kui-modal-${i||xe} kui-modal-${m||fe}`,children:[(t||l)&&(0,s.jsxs)("header",{className:`${he["modal-header"]} kui-modal-header`,children:[t?(0,s.jsx)("h3",{className:`${he["modal-title"]} kui-modal-title`,children:t}):(0,s.jsx)("h3",{}),l?(0,s.jsx)("button",{role:"modal-close",className:"kui-modal-close",onClick:M,children:"X"}):(0,s.jsx)("div",{})]}),(0,s.jsx)("div",{className:`${he["modal-body"]} kui-modal-body`,children:e}),(0,s.jsx)("div",{className:`${he["modal-footer"]} kui-modal-footer`})]})]})}}}]);